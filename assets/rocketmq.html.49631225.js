import{r as n,o as s,c as a,a as e,b as t,F as o,e as c}from"./app.4569360d.js";const l={},p=e("h1",{id:"rocketmq",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#rocketmq","aria-hidden":"true"},"#"),c(" RocketMQ")],-1),u=e("h2",{id:"mq",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#mq","aria-hidden":"true"},"#"),c(" MQ")],-1),r=e("p",null,"MQ（Message Queue，消息队列），是一种 FIFO 的队列。",-1),i=e("p",null,"它的作用有：",-1),k=e("ol",null,[e("li",null,"异步"),e("li",null,"解耦"),e("li",null,"削峰")],-1),m=e("h2",{id:"rocketmq介绍",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#rocketmq介绍","aria-hidden":"true"},"#"),c(" RocketMQ 介绍")],-1),b=e("p",null,"RcoketMQ 是一款低延迟、高可靠、可伸缩、易于使用的消息中间件。",-1),d=e("h3",{id:"nameserver",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#nameserver","aria-hidden":"true"},"#"),c(" NameServer")],-1),g=e("p",null,"注册中心，可以集群。",-1),h=e("h3",{id:"broker",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#broker","aria-hidden":"true"},"#"),c(" Broker")],-1),f=e("p",null,"真正负责消息收发和存储的实体，可以主从。",-1),v=e("h2",{id:"单机部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#单机部署","aria-hidden":"true"},"#"),c(" 单机部署")],-1),y=e("p",null,"可以使用 Docker Compose 来快速部署 RocketMQ。",-1),w=e("p",null,[c("RockerMQ 分为 NameServer"),e("sup",{class:"footnote-ref"},[e("a",{href:"#footnote1"},"[1]"),e("a",{class:"footnote-anchor",id:"footnote-ref1"})]),c(" 和 Broker"),e("sup",{class:"footnote-ref"},[e("a",{href:"#footnote2"},"[2]"),e("a",{class:"footnote-anchor",id:"footnote-ref2"})]),c("，前者类似于注册中心，后者才是进行存储消息的服务。还有一个第三方服务 "),e("code",null,"rocket-mq-console-ng"),c(),e("sup",{class:"footnote-ref"},[e("a",{href:"#footnote3"},"[3]"),e("a",{class:"footnote-anchor",id:"footnote-ref3"})]),e("sup",{class:"footnote-ref"},[e("a",{href:"#footnote4"},"[4]"),e("a",{class:"footnote-anchor",id:"footnote-ref4"})]),c("，是 RocketMQ 的网页控制台。")],-1),M=e("p",null,[c("RocketMQ 的 NameServer 和 Broker 是同一套代码，只是启动的时候参数不一样。 "),e("code",null,"apacherocketmq/rocketmq-nameserver"),c(" 和")],-1),S=e("p",null,[e("code",null,"apacherocketmq/rocketmq-broker"),c(" 在启动参数上有不同。")],-1),R=e("p",null,[c("RocketMQ 的数据存储在 "),e("code",null,"user.home"),c(" 目录下，你可以设置 "),e("code",null,"user.home"),c(" 环境变量来自定义存储路径。在这两个 Docker 镜像中，该环境变量的值为 "),e("code",null,"/opt"),c(" 。")],-1),T=e("div",{class:"language-yaml ext-yml line-numbers-mode"},[e("pre",{class:"language-yaml"},[e("code",null,[e("span",{class:"token key atrule"},"version"),e("span",{class:"token punctuation"},":"),c(),e("span",{class:"token string"},'"3"'),c("\n"),e("span",{class:"token key atrule"},"services"),e("span",{class:"token punctuation"},":"),c("\n  "),e("span",{class:"token key atrule"},"nameserver"),e("span",{class:"token punctuation"},":"),c("\n    "),e("span",{class:"token key atrule"},"image"),e("span",{class:"token punctuation"},":"),c(" apacherocketmq/rocketmq"),e("span",{class:"token punctuation"},"-"),c("nameserver"),e("span",{class:"token punctuation"},":"),c("4.5.0"),e("span",{class:"token punctuation"},"-"),c("alpine\n    "),e("span",{class:"token key atrule"},"volumes"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" nameserver_logs"),e("span",{class:"token punctuation"},":"),c("/root/logs\n    "),e("span",{class:"token key atrule"},"ports"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" 9876"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"9876"),c("\n    "),e("span",{class:"token key atrule"},"environment"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token key atrule"},"JAVA_OPT_EXT"),e("span",{class:"token punctuation"},":"),c(),e("span",{class:"token string"},'" -Xms128m -Xmx128m -Xmn128m"'),c("\n    "),e("span",{class:"token key atrule"},"command"),e("span",{class:"token punctuation"},":"),c(" sh mqnamesrv\n  "),e("span",{class:"token key atrule"},"broker"),e("span",{class:"token punctuation"},":"),c("\n    "),e("span",{class:"token key atrule"},"image"),e("span",{class:"token punctuation"},":"),c(" apacherocketmq/rocketmq"),e("span",{class:"token punctuation"},"-"),c("broker"),e("span",{class:"token punctuation"},":"),c("4.5.0"),e("span",{class:"token punctuation"},"-"),c("alpine\n    "),e("span",{class:"token key atrule"},"depends_on"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" nameserver\n    "),e("span",{class:"token key atrule"},"volumes"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" broker_data"),e("span",{class:"token punctuation"},":"),c("/root/store\n      "),e("span",{class:"token punctuation"},"-"),c(" broker_logs"),e("span",{class:"token punctuation"},":"),c("/root/logs\n      "),e("span",{class:"token punctuation"},"-"),c(" /root/docker"),e("span",{class:"token punctuation"},"-"),c("compose/rocketmq/broker.conf"),e("span",{class:"token punctuation"},":"),c("/home/rocketmq/broker.conf\n    "),e("span",{class:"token key atrule"},"ports"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" 10909"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"10909"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" 10911"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"10911"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" 10912"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"10912"),c("\n    "),e("span",{class:"token key atrule"},"environment"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token key atrule"},"JAVA_OPT_EXT"),e("span",{class:"token punctuation"},":"),c(),e("span",{class:"token string"},'" -Xms128m -Xmx128m -Xmn128m"'),c("\n    "),e("span",{class:"token key atrule"},"command"),e("span",{class:"token punctuation"},":"),c(" sh mqbroker "),e("span",{class:"token punctuation"},"-"),c("c /home/rocketmq/broker.conf\n  "),e("span",{class:"token key atrule"},"console"),e("span",{class:"token punctuation"},":"),c("\n    "),e("span",{class:"token key atrule"},"image"),e("span",{class:"token punctuation"},":"),c(" apacherocketmq/rocketmq"),e("span",{class:"token punctuation"},"-"),c("console"),e("span",{class:"token punctuation"},":"),c("2.0.0\n    "),e("span",{class:"token key atrule"},"depends_on"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" nameserver\n      "),e("span",{class:"token punctuation"},"-"),c(" broker\n    "),e("span",{class:"token key atrule"},"ports"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token punctuation"},"-"),c(" 8088"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"8080"),c("\n    "),e("span",{class:"token key atrule"},"environment"),e("span",{class:"token punctuation"},":"),c("\n      "),e("span",{class:"token key atrule"},"LOGGIN_LEVEL_ROOT"),e("span",{class:"token punctuation"},":"),c(" info\n      "),e("span",{class:"token key atrule"},"ROCKETMQ_CONFIG_NAMESRVADDR"),e("span",{class:"token punctuation"},":"),c(" nameserver"),e("span",{class:"token punctuation"},":"),e("span",{class:"token number"},"9876"),c("\n      "),e("span",{class:"token key atrule"},"JAVA_OPTS"),e("span",{class:"token punctuation"},":"),c(),e("span",{class:"token string"},'" -Xms128m -Xmx128m -Xmn128m"'),c("\n"),e("span",{class:"token key atrule"},"volumes"),e("span",{class:"token punctuation"},":"),c("\n  "),e("span",{class:"token key atrule"},"nameserver_logs"),e("span",{class:"token punctuation"},":"),c("\n  "),e("span",{class:"token key atrule"},"broker_data"),e("span",{class:"token punctuation"},":"),c("\n  "),e("span",{class:"token key atrule"},"broker_logs"),e("span",{class:"token punctuation"},":"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br"),e("span",{class:"line-number"},"35"),e("br"),e("span",{class:"line-number"},"36"),e("br"),e("span",{class:"line-number"},"37"),e("br"),e("span",{class:"line-number"},"38"),e("br"),e("span",{class:"line-number"},"39"),e("br"),e("span",{class:"line-number"},"40"),e("br"),e("span",{class:"line-number"},"41"),e("br")])],-1),x=e("p",null,[c("根据上面的文件中的配置内容，你还需要为 Broker 提供配置文件，位于 "),e("code",null,"/root/docker-compose/rocketmq/broker.conf"),c(" 。")],-1),j=e("p",null,"需要配置 Broker 的外部 IP，不然客户端连接不上。",-1),C=e("div",{class:"language-properties ext-properties line-numbers-mode"},[e("pre",{class:"language-properties"},[e("code",null,[e("span",{class:"token attr-name"},"brokerClusterName"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"DefaultCluster"),c("\n"),e("span",{class:"token attr-name"},"brokerName"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"broker-a"),c("\n"),e("span",{class:"token attr-name"},"brokerId"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"0"),c("\n"),e("span",{class:"token attr-name"},"deleteWhen"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"04"),c("\n"),e("span",{class:"token attr-name"},"fileReservedTime"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"48"),c("\n"),e("span",{class:"token attr-name"},"brokerRole"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"ASYNC_MASTER"),c("\n"),e("span",{class:"token attr-name"},"flushDiskType"),c(),e("span",{class:"token punctuation"},"="),c(),e("span",{class:"token attr-value"},"ASYNC_FLUSH"),c("\n\n"),e("span",{class:"token attr-name"},"namesrvAddr"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"nameserver:9876"),c("\n"),e("span",{class:"token attr-name"},"brokerIP1"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"192.168.229.129"),c("\n"),e("span",{class:"token attr-name"},"defaultTopicQueueNums"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"4"),c("\n"),e("span",{class:"token attr-name"},"autoCreateTopicEnable"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"true"),c("\n"),e("span",{class:"token attr-name"},"autoCreateSubscriptionGroup"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"true"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br")])],-1),E=e("p",null,[c("接着使用 "),e("code",null,"docker compose up -d"),c(" 就可以启动容器了，容器名字都会加上当前文件夹名作为前缀。")],-1),q=e("p",null,[c("可以使用 "),e("code",null,"docker compose ps"),c(" 查看容器的运行状态。")],-1),Q=e("h2",{id:"集群部署",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#集群部署","aria-hidden":"true"},"#"),c(" 集群部署")],-1),O=e("p",null,"// TODO 还没学，学了再写",-1),_=e("h2",{id:"开发",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#开发","aria-hidden":"true"},"#"),c(" 开发")],-1),L=e("p",null,"首先为了使用方便，定义了一些常量。",-1),A=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"MQConstant"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" NAMESERVER_ADDR "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"192.168.229.129:9876"'),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br")])],-1),P=e("h3",{id:"原生api",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#原生api","aria-hidden":"true"},"#"),c(" 原生 API")],-1),D=e("h4",{id:"消费者-推送",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#消费者-推送","aria-hidden":"true"},"#"),c(" 消费者（推送）")],-1),N=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("example"),e("span",{class:"token punctuation"},"."),c("sync")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Consumer"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" CONSUMER_GROUP "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"sync_message_consumer"'),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"main"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),c(" args"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"throws"),c(),e("span",{class:"token class-name"},"Exception"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"DefaultMQPushConsumer"),c(" consumer "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"DefaultMQPushConsumer"),e("span",{class:"token punctuation"},"("),c("CONSUMER_GROUP"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setNamesrvAddr"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQConstant"),e("span",{class:"token punctuation"},"."),c("NAMESERVER_ADDR"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setConsumeFromWhere"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"ConsumeFromWhere"),e("span",{class:"token punctuation"},"."),c("CONSUME_FROM_LAST_OFFSET"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"subscribe"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"registerMessageListener"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MessageListenerOrderly"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"("),c("msgs"),e("span",{class:"token punctuation"},","),c(" context"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n            msgs"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"forEach"),e("span",{class:"token punctuation"},"("),c("messageExt "),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n                log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"收到消息: {}"'),e("span",{class:"token punctuation"},","),c(" messageExt"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息体: {}"'),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"("),c("messageExt"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getBody"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n            "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n            "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token class-name"},"ConsumeOrderlyStatus"),e("span",{class:"token punctuation"},"."),c("SUCCESS"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"start"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Consumer已启动"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"Runtime"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getRuntime"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"addShutdownHook"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Thread"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n            log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"程序正在退出"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n            consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"shutdown"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br")])],-1),U=e("h4",{id:"生产者-同步发送",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-同步发送","aria-hidden":"true"},"#"),c(" 生产者（同步发送）")],-1),I=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("example"),e("span",{class:"token punctuation"},"."),c("sync")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Producer"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" PRODUCER_GROUP "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"sync_message_producer"'),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"main"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),c(" args"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"throws"),c(),e("span",{class:"token class-name"},"Exception"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"DefaultMQProducer"),c(" producer "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"DefaultMQProducer"),e("span",{class:"token punctuation"},"("),c("PRODUCER_GROUP"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setNamesrvAddr"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQConstant"),e("span",{class:"token punctuation"},"."),c("NAMESERVER_ADDR"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"start"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"Stream"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"generate"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"RandomUtil"),e("span",{class:"token operator"},"::"),e("span",{class:"token function"},"randomInt"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"limit"),e("span",{class:"token punctuation"},"("),e("span",{class:"token number"},"10"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"map"),e("span",{class:"token punctuation"},"("),c("i "),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"StrUtil"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"format"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Hello RocketMQ: {}"'),e("span",{class:"token punctuation"},","),c(" i"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getBytes"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"StandardCharsets"),e("span",{class:"token punctuation"},"."),c("UTF_8"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"forEach"),e("span",{class:"token punctuation"},"("),c("message "),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n                    "),e("span",{class:"token keyword"},"try"),c(),e("span",{class:"token punctuation"},"{"),c("\n                        "),e("span",{class:"token class-name"},"SendResult"),c(" result "),e("span",{class:"token operator"},"="),c(" producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),c("message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token number"},"10000"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息已发送: {}"'),e("span",{class:"token punctuation"},","),c(" result"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                    "),e("span",{class:"token punctuation"},"}"),c(),e("span",{class:"token keyword"},"catch"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Exception"),c(" e"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"error"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息发送失败"'),e("span",{class:"token punctuation"},","),c(" e"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                    "),e("span",{class:"token punctuation"},"}"),c("\n                "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"shutdown"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br")])],-1),B=e("h4",{id:"生产者-异步发送",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-异步发送","aria-hidden":"true"},"#"),c(" 生产者（异步发送）")],-1),G=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("example"),e("span",{class:"token punctuation"},"."),c("producer")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"AsyncMessageProducer"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" PRODUCER_GROUP "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"async_message_producer"'),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"main"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),c(" args"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"throws"),c(),e("span",{class:"token class-name"},"Exception"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token keyword"},"int"),c(" count "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"10"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"DefaultMQProducer"),c(" producer "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"DefaultMQProducer"),e("span",{class:"token punctuation"},"("),c("PRODUCER_GROUP"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setNamesrvAddr"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQConstant"),e("span",{class:"token punctuation"},"."),c("NAMESERVER_ADDR"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"start"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"CountDownLatch"),c(" countDownLatch "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"CountDownLatch"),e("span",{class:"token punctuation"},"("),c("count"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"Stream"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"generate"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"RandomUtil"),e("span",{class:"token operator"},"::"),e("span",{class:"token function"},"randomInt"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"limit"),e("span",{class:"token punctuation"},"("),c("count"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"map"),e("span",{class:"token punctuation"},"("),c("i "),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"StrUtil"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"format"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Hello RocketMQ: {}"'),e("span",{class:"token punctuation"},","),c(" i"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getBytes"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"StandardCharsets"),e("span",{class:"token punctuation"},"."),c("UTF_8"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),c("\n                "),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"forEach"),e("span",{class:"token punctuation"},"("),c("message "),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n                    "),e("span",{class:"token keyword"},"try"),c(),e("span",{class:"token punctuation"},"{"),c("\n                        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),c("message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"SendCallback"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                            "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n                            "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"onSuccess"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"SendResult"),c(" sendResult"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                                log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息发送成功: {}"'),e("span",{class:"token punctuation"},","),c(" sendResult"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                                countDownLatch"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"countDown"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                            "),e("span",{class:"token punctuation"},"}"),c("\n\n                            "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n                            "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"onException"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Throwable"),c(" e"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                                log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"error"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息发送失败"'),e("span",{class:"token punctuation"},","),c(" e"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                                countDownLatch"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"countDown"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                            "),e("span",{class:"token punctuation"},"}"),c("\n                        "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息已发送: {}"'),e("span",{class:"token punctuation"},","),c(" message"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                    "),e("span",{class:"token punctuation"},"}"),c(),e("span",{class:"token keyword"},"catch"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Exception"),c(" e"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"error"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"消息发送失败"'),e("span",{class:"token punctuation"},","),c(" e"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                    "),e("span",{class:"token punctuation"},"}"),c("\n                "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        countDownLatch"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"await"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"shutdown"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br"),e("span",{class:"line-number"},"35"),e("br"),e("span",{class:"line-number"},"36"),e("br"),e("span",{class:"line-number"},"37"),e("br"),e("span",{class:"line-number"},"38"),e("br"),e("span",{class:"line-number"},"39"),e("br"),e("span",{class:"line-number"},"40"),e("br"),e("span",{class:"line-number"},"41"),e("br")])],-1),F=e("h4",{id:"生产者-单向发送",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-单向发送","aria-hidden":"true"},"#"),c(" 生产者（单向发送）")],-1),H=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.client.producer.DefaultMQProducer#sendOneway"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"sendOneway"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),V=e("h4",{id:"消费者-拉取",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#消费者-拉取","aria-hidden":"true"},"#"),c(" 消费者（拉取）")],-1),W=e("p",null,"主动拉取可以更灵活地消费消息。",-1),X=e("p",null,"// TODO 还需要明白主动拉取后的消费确认机制",-1),K=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("example"),e("span",{class:"token punctuation"},"."),c("consumer")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"PullConsumer"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" CONSUMER_GROUP "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"pull_message_consumer"'),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"main"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),c(" args"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"throws"),c(),e("span",{class:"token class-name"},"Exception"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"DefaultLitePullConsumer"),c(" consumer "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"DefaultLitePullConsumer"),e("span",{class:"token punctuation"},"("),c("CONSUMER_GROUP"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setConsumeFromWhere"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"ConsumeFromWhere"),e("span",{class:"token punctuation"},"."),c("CONSUME_FROM_LAST_OFFSET"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setNamesrvAddr"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQConstant"),e("span",{class:"token punctuation"},"."),c("NAMESERVER_ADDR"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"subscribe"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("ALL"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"start"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token keyword"},"while"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n            "),e("span",{class:"token class-name"},"List"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"MessageExt"),e("span",{class:"token punctuation"},">")]),c(" messages "),e("span",{class:"token operator"},"="),c(" consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"poll"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n            "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"CollUtil"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"isEmpty"),e("span",{class:"token punctuation"},"("),c("messages"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n                "),e("span",{class:"token keyword"},"break"),e("span",{class:"token punctuation"},";"),c("\n            "),e("span",{class:"token punctuation"},"}"),c("\n            messages"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"forEach"),e("span",{class:"token punctuation"},"("),c("messageExt "),e("span",{class:"token operator"},"->"),c(" log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"收到消息: {}"'),e("span",{class:"token punctuation"},","),c(" messageExt"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token punctuation"},"}"),c("\n        "),e("span",{class:"token class-name"},"Runtime"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getRuntime"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"addShutdownHook"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Thread"),e("span",{class:"token punctuation"},"("),c("consumer"),e("span",{class:"token operator"},"::"),e("span",{class:"token function"},"shutdown"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br")])],-1),Y=e("h4",{id:"顺序消费",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#顺序消费","aria-hidden":"true"},"#"),c(" 顺序消费")],-1),J=e("p",null,"顺序消费要做到需要顺序消费的一组消息都发送到同一个队列上。消费者在消费的时候使用串行消费而不是并发消费。",-1),$=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.client.producer.DefaultMQProducer#send"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"SendResult"),c(),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MessageQueueSelector"),c(" selector"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Object"),c(" arg"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),z=e("p",null,[e("code",null,"MessageQueueSelector"),c(" 可以选择发送消息到哪个队列上。")],-1),Z=e("p",null,"在实际使用中，可以动态地选择队列来实现负载均衡，只要保证需要顺序消费的同一组消息发送到同一个队列上即可。",-1),nn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token class-name"},"SendResult"),c(" sendResult "),e("span",{class:"token operator"},"="),c(" producer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),c("message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"("),c("mqs"),e("span",{class:"token punctuation"},","),c(" msg"),e("span",{class:"token punctuation"},","),c(" arg"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token operator"},"->"),c(),e("span",{class:"token punctuation"},"{"),c("\n                    "),e("span",{class:"token keyword"},"int"),c(" i "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Integer"),e("span",{class:"token punctuation"},")"),c(" arg "),e("span",{class:"token operator"},"%"),c(" mqs"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"size"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                    "),e("span",{class:"token keyword"},"return"),c(" mqs"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"get"),e("span",{class:"token punctuation"},"("),c("i"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n                "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},","),c(" pair"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getKey"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),sn=e("h4",{id:"广播消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#广播消息","aria-hidden":"true"},"#"),c(" 广播消息")],-1),an=e("p",null,"默认情况下，同一个消费者组在消费消息时有竞争关系。在消费消息的时候设置消费者为广播模式就可以让消费者去掉竞争属性。",-1),en=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.client.consumer.DefaultMQPushConsumer#setMessageModel"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"setMessageModel"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MessageModel"),c(" messageModel"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),tn=e("p",null,[e("code",null,"MessageModel"),c(" 默认为 "),e("code",null,"CLUSTERING"),c(" ，需要设置为 "),e("code",null,"BROADCASTING"),c(" 。")],-1),on=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[c("consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setMessageModel"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MessageModel"),e("span",{class:"token punctuation"},"."),c("BROADCASTING"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),cn=e("h4",{id:"延迟消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#延迟消息","aria-hidden":"true"},"#"),c(" 延迟消息")],-1),ln=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.common.message.Message#setDelayTimeLevel"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"setDelayTimeLevel"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"int"),c(" level"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),pn=e("p",null,[c("可以给 "),e("code",null,"Message"),c(" 设置 "),e("code",null,"delayLevel"),c(" ，延迟级别分别为 "),e("code",null,"1s 5s 10s 30s 1m 2m 3m 4m 5m 6m 7m 8m 9m 10m 20m 30m 1h 2h"),c(" ，从 1 开始数。")],-1),un=e("h4",{id:"批量消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#批量消息","aria-hidden":"true"},"#"),c(" 批量消息")],-1),rn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.client.producer.DefaultMQProducer#send"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"SendResult"),c(),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Collection"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"Message"),e("span",{class:"token punctuation"},">")]),c(" msgs"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),kn=e("p",null,[c("可以简单地把消息封装为 "),e("code",null,"Collection<Message>"),c(" ，一起发出去。")],-1),mn=e("h4",{id:"过滤消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#过滤消息","aria-hidden":"true"},"#"),c(" 过滤消息")],-1),bn=e("p",null,"大多数情况下，可以通过 Topic 和 Tag 来过滤消息。",-1),dn=e("p",null,"Tag 可以用表达式写。",-1),gn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[c("consumer"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"subscribe"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MessageSelector"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"byTag"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"TAG"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),hn=e("p",null,"在复杂情况下，还可以通过 SQL 语句来过滤消息。",-1),fn=e("p",null,[e("img",{src:"/assets/image-20210808203938656-16284263806451.d939945e.png",alt:"image-20210808203938656"})],-1),vn=e("p",null,[c("其中变量 "),e("code",null,"a"),c(" 可以在发送消息的时候通过 "),e("code",null,"putUserProperty()"),c(" 放入。")],-1),yn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.common.message.Message#putUserProperty"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"putUserProperty"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" name"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" value"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),wn=e("p",null,"只有推送模式的 Consumer 可以使用消息过滤。",-1),Mn=e("h4",{id:"事务消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#事务消息","aria-hidden":"true"},"#"),c(" 事务消息")],-1),Sn=e("p",null,[e("img",{src:"/assets/image-20210808210014135.261373be.png",alt:"image-20210808210014135"})],-1),Rn=e("p",null,"事务消息的机制是在发送消息时会发送一个办消息，这个消息存放在系统创建的 Topic 中，对消费者是不可见的。在生产者对消息进行提交之后才会把消息转移到目标 Topic。如果生产者没有对消息进行提交，RocketMQ 会每隔一段时间进行回查，确认本地事务是否已提交成功，如果是则把消息转移到目标 Topic，否则若超过最大回查尝试次数则丢弃消息，默认最大重试次数为 15。",-1),Tn=e("h3",{id:"spring-boot",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#spring-boot","aria-hidden":"true"},"#"),c(" Spring Boot")],-1),xn=e("h4",{id:"配置",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#配置","aria-hidden":"true"},"#"),c(" 配置")],-1),jn=e("p",null,"配置解耦，写在配置文件中。",-1),Cn=e("div",{class:"language-properties ext-properties line-numbers-mode"},[e("pre",{class:"language-properties"},[e("code",null,[e("span",{class:"token attr-name"},"rocketmq.name-server"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"192.168.229.129:9876"),c("\n"),e("span",{class:"token attr-name"},"rocketmq.producer.group"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"spring-boot-producer-group"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),En=e("h4",{id:"生产者-同步发送-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-同步发送-1","aria-hidden":"true"},"#"),c(" 生产者（同步发送）")],-1),qn=e("p",null,[c("核心是 "),e("code",null,"RocketMQTemplate"),c(" ，消息的发送都依赖它完成。 "),e("code",null,"RocketMQTemplate"),c(" 已经在 Spring 容器中，可以自动注入拿到。其中 "),e("code",null,"destination"),c(" 的格式为 "),e("code",null,"${topic}:${tag}"),c(" 。")],-1),Qn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.springframework.messaging.core.AbstractMessageSendingTemplate#send"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"D"),c(" destination"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token operator"},"?"),e("span",{class:"token punctuation"},">")]),c(" message"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),On=e("p",null,[c("发送消息用 "),e("code",null,"send()"),c(" ，参数中的 "),e("code",null,"Message"),c(" 实际上是 "),e("code",null,"org.springframework.messaging.Message"),c(" ，而不是 "),e("code",null,"org.apache.rocketmq.common.message.Message"),c(" 。")],-1),_n=e("p",null,[e("code",null,"Message"),c(" 可以用 "),e("code",null,"MessageBuilder"),c(" 构建。")],-1),Ln=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token class-name"},"MessageBuilder"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"withPayload"),e("span",{class:"token punctuation"},"("),c("payload"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"build"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br")])],-1),An=e("h4",{id:"生产者-异步发送-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-异步发送-1","aria-hidden":"true"},"#"),c(" 生产者（异步发送）")],-1),Pn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.core.RocketMQTemplate#asyncSend"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"asyncSend"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),c(" destination"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token operator"},"?"),e("span",{class:"token punctuation"},">")]),c(" message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"SendCallback"),c(" sendCallback"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),Dn=e("h4",{id:"生产者-单向发送-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者-单向发送-1","aria-hidden":"true"},"#"),c(" 生产者（单向发送）")],-1),Nn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.core.RocketMQTemplate#sendOneWay"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"sendOneWay"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),c(" destination"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token operator"},"?"),e("span",{class:"token punctuation"},">")]),c(" message"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),Un=e("h4",{id:"消费者-推送-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#消费者-推送-1","aria-hidden":"true"},"#"),c(" 消费者（推送）")],-1),In=e("p",null,[c("消息的消费有了新的抽象。只需实现 "),e("code",null,"RocketMQListener"),c(" 接口就可以快速完成消息消费。设计原则是一个接口消费一种消息，如果需要消费其他消息则需要多个接口。")],-1),Bn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqinspringboot"),e("span",{class:"token punctuation"},"."),c("listener")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token annotation punctuation"},"@Service"),c("\n"),e("span",{class:"token annotation punctuation"},"@RocketMQMessageListener"),e("span",{class:"token punctuation"},"("),c("consumerGroup "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token class-name"},"MQConstant"),e("span",{class:"token punctuation"},"."),c("CONSUMER_GROUP"),e("span",{class:"token punctuation"},","),c(" topic "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token class-name"},"MQTopicConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},","),c(" selectorExpression "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Consumer"),c(),e("span",{class:"token keyword"},"implements"),c(),e("span",{class:"token class-name"},"RocketMQListener"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},">")]),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"onMessage"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),c(" message"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"收到消息: {}"'),e("span",{class:"token punctuation"},","),c(" message"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br")])],-1),Gn=e("p",null,[c("上面的例子会直接拿到消息中的 Payload 并且将之转为泛型对应类型的对象。如果你需要拿到消息的头部信息，把泛型设置为 "),e("code",null,"MessageExt"),c(" ，其中可以拿到头部信息"),e("sup",{class:"footnote-ref"},[e("a",{href:"#footnote5"},"[5]"),e("a",{class:"footnote-anchor",id:"footnote-ref5"})]),c("。")],-1),Fn=e("h4",{id:"顺序消费-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#顺序消费-1","aria-hidden":"true"},"#"),c(" 顺序消费")],-1),Hn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.core.RocketMQTemplate#sendAndReceive"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"T"),e("span",{class:"token punctuation"},">")]),c(),e("span",{class:"token class-name"},"T"),c(),e("span",{class:"token function"},"sendAndReceive"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),c(" destination"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token operator"},"?"),e("span",{class:"token punctuation"},">")]),c(" message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Type"),c(" type"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"String"),c(" hashKey"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),Vn=e("p",null,[c("生产者同一组消息指定相同的 "),e("code",null,"hashKey"),c(" ，则该组消息会被发送到同一个消息队列上。")],-1),Wn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.annotation.RocketMQMessageListener#consumeMode"),c("\n"),e("span",{class:"token class-name"},"ConsumeMode"),c(),e("span",{class:"token function"},"consumeMode"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"default"),c(),e("span",{class:"token class-name"},"ConsumeMode"),e("span",{class:"token punctuation"},"."),c("CONCURRENTLY"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),Xn=e("p",null,[c("消费者把 "),e("code",null,"consumeMode"),c(" 设置为 "),e("code",null,"ORDERLY"),c(" 。")],-1),Kn=e("h4",{id:"广播消息-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#广播消息-1","aria-hidden":"true"},"#"),c(" 广播消息")],-1),Yn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.annotation.RocketMQMessageListener#messageModel"),c("\n"),e("span",{class:"token class-name"},"MessageModel"),c(),e("span",{class:"token function"},"messageModel"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"default"),c(),e("span",{class:"token class-name"},"MessageModel"),e("span",{class:"token punctuation"},"."),c("CLUSTERING"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),Jn=e("h4",{id:"过滤消息-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#过滤消息-1","aria-hidden":"true"},"#"),c(" 过滤消息")],-1),$n=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.annotation.RocketMQMessageListener#selectorType"),c("\n"),e("span",{class:"token class-name"},"SelectorType"),c(),e("span",{class:"token function"},"selectorType"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"default"),c(),e("span",{class:"token class-name"},"SelectorType"),e("span",{class:"token punctuation"},"."),c("TAG"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token comment"},"// org.apache.rocketmq.spring.annotation.RocketMQMessageListener#selectorExpression"),c("\n"),e("span",{class:"token class-name"},"String"),c(),e("span",{class:"token function"},"selectorExpression"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token keyword"},"default"),c(),e("span",{class:"token string"},'"*"'),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br")])],-1),zn=e("h4",{id:"事务消息-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#事务消息-1","aria-hidden":"true"},"#"),c(" 事务消息")],-1),Zn=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token comment"},"// org.apache.rocketmq.spring.core.RocketMQTemplate#sendMessageInTransaction"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"TransactionSendResult"),c(),e("span",{class:"token function"},"sendMessageInTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"String"),c(" destination"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token operator"},"?"),e("span",{class:"token punctuation"},">")]),c(" message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"final"),c(),e("span",{class:"token class-name"},"Object"),c(" arg"),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),ns=e("p",null,[c("发送事务消息依赖 "),e("code",null,"sendMessageInTransaction"),c(" 完成。 "),e("code",null,"arg"),c(" 作为自定义参数会被传递到 "),e("code",null,"RocketMQLocalTransactionListener#executeLocalTransaction"),c(" 中，本地事务逻辑会在该方法中完成。")],-1),ss=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqinspringboot"),e("span",{class:"token punctuation"},"."),c("controller")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Operation"),e("span",{class:"token punctuation"},"("),c("summary "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"发事务消息"'),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token annotation punctuation"},"@PostMapping"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"/transaction"'),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"sendTransactionMessage"),e("span",{class:"token punctuation"},"("),e("span",{class:"token annotation punctuation"},"@RequestBody"),c(),e("span",{class:"token class-name"},"String"),c(" message"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token class-name"},"TransactionSendResult"),c(" transactionSendResult "),e("span",{class:"token operator"},"="),c(" rocketMQTemplate"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"sendMessageInTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token function"},"getDestination"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token function"},"getMessage"),e("span",{class:"token punctuation"},"("),c("message"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},","),c(" message"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"transactionSendResult: {}"'),e("span",{class:"token punctuation"},","),c(" transactionSendResult"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),as=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqinspringboot"),e("span",{class:"token punctuation"},"."),c("listener")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token annotation punctuation"},"@RocketMQTransactionListener"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"TransactionListener"),c(),e("span",{class:"token keyword"},"implements"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionListener"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),c(),e("span",{class:"token function"},"executeLocalTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Object"),c(" arg"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"String"),c(" orderNumber "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"byte"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),c(" msg"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getPayload"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"执行事务, {}"'),e("span",{class:"token punctuation"},","),c(" orderNumber"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),e("span",{class:"token punctuation"},"."),c("UNKNOWN"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),c(),e("span",{class:"token function"},"checkLocalTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"String"),c(" orderNumber "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"byte"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),c(" msg"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getPayload"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"回查, {}"'),e("span",{class:"token punctuation"},","),c(" orderNumber"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),e("span",{class:"token punctuation"},"."),c("COMMIT"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br")])],-1),es=e("p",null,[c("发送事务消息时，一个 "),e("code",null,"RocketMQTemplate"),c(" 对应一个 "),e("code",null,"RocketMQLocalTransactionListener"),c(" ，该 "),e("code",null,"RocketMQTemplate"),c(" 所发出的事务消息都会在对应的 "),e("code",null,"RocketMQLocalTransactionListener"),c(" 中执行。")],-1),ts=e("p",null,[c("如果需要定义多个事务消息监听器，就需要多个 "),e("code",null,"RocketMQListener"),c(" ，对应多个 "),e("code",null,"RocketMQLocalTransactionListener"),c(" 。")],-1),os=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqinspringboot"),e("span",{class:"token punctuation"},"."),c("config")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@ExtRocketMQTemplateConfiguration"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"ExtRocketMQTemplate"),c(),e("span",{class:"token keyword"},"extends"),c(),e("span",{class:"token class-name"},"RocketMQTemplate"),c(),e("span",{class:"token punctuation"},"{"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br")])],-1),cs=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqinspringboot"),e("span",{class:"token punctuation"},"."),c("listener")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@RocketMQTransactionListener"),e("span",{class:"token punctuation"},"("),c("rocketMQTemplateBeanName "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"extRocketMQTemplate"'),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"ExtTransactionListener"),c(),e("span",{class:"token keyword"},"implements"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionListener"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),c(),e("span",{class:"token function"},"executeLocalTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Object"),c(" arg"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),e("span",{class:"token punctuation"},"."),c("UNKNOWN"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@Override"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),c(),e("span",{class:"token function"},"checkLocalTransaction"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Message"),c(" msg"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token class-name"},"RocketMQLocalTransactionState"),e("span",{class:"token punctuation"},"."),c("COMMIT"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br")])],-1),ls=e("h3",{id:"spring-cloud-stream",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#spring-cloud-stream","aria-hidden":"true"},"#"),c(" Spring Cloud Stream")],-1),ps=e("p",null,"Spring Cloud Stream 是 Spring 官方提供的一个针对所有开源的消息系统进行统一封装。",-1),us=e("h4",{id:"配置-1",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#配置-1","aria-hidden":"true"},"#"),c(" 配置")],-1),rs=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqspringcloudstream")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@EnableBinding"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},"{"),e("span",{class:"token class-name"},"Source"),e("span",{class:"token punctuation"},"."),e("span",{class:"token keyword"},"class"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Sink"),e("span",{class:"token punctuation"},"."),e("span",{class:"token keyword"},"class"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token annotation punctuation"},"@SpringBootApplication"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"RocketmqSpringCloudStreamApplication"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"static"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"main"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"]"),c(" args"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"SpringApplication"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"run"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"RocketmqSpringCloudStreamApplication"),e("span",{class:"token punctuation"},"."),e("span",{class:"token keyword"},"class"),e("span",{class:"token punctuation"},","),c(" args"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br")])],-1),is=e("p",null,[e("code",null,"Source"),c(" 和 "),e("code",null,"Sink"),c(" 是 Spring Cloud Stream 提供的简单的消息输入和输出通道。")],-1),ks=e("div",{class:"language-properties ext-properties line-numbers-mode"},[e("pre",{class:"language-properties"},[e("code",null,[e("span",{class:"token attr-name"},"spring.cloud.stream.bindings.input.destination"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"STREAM_TOPIC"),c("\n"),e("span",{class:"token attr-name"},"spring.cloud.stream.bindings.input.group"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"STREAM_GROUP"),c("\n"),e("span",{class:"token attr-name"},"spring.cloud.stream.bindings.output.destination"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"STREAM_TOPIC"),c("\n"),e("span",{class:"token attr-name"},"spring.cloud.stream.rocketmq.binder.name-server"),e("span",{class:"token punctuation"},"="),e("span",{class:"token attr-value"},"192.168.229.129:9876"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),ms=e("p",null,"Spring Cloud Stream 关于消息生产和消费的配置都放在配置文件中。",-1),bs=e("p",null,[e("code",null,"spring.cloud.stream.bindings"),c(" 是一个 "),e("code",null,"Map"),c(" ，可以配置多个通道， "),e("code",null,"input"),c(" 就是 "),e("code",null,"Sink"),c(" 的通道名， "),e("code",null,"output"),c(" 就是 "),e("code",null,"Source"),c(" 的通道名。")],-1),ds=e("p",null,[c("如果需要定义其他通道就新增配置文件，然后新增类似于 "),e("code",null,"Sink"),c(" 和 "),e("code",null,"Sourec"),c(" 的接口。")],-1),gs=e("h4",{id:"生产者",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#生产者","aria-hidden":"true"},"#"),c(" 生产者")],-1),hs=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqspringcloudstream"),e("span",{class:"token punctuation"},"."),c("controller")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Tag"),e("span",{class:"token punctuation"},"("),c("name "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"消息"'),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token annotation punctuation"},"@RestController"),c("\n"),e("span",{class:"token annotation punctuation"},"@RequestMapping"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"/messages"'),e("span",{class:"token punctuation"},")"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"MessageController"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@Autowired"),c("\n    "),e("span",{class:"token keyword"},"private"),c(),e("span",{class:"token class-name"},"Source"),c(" source"),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@Operation"),e("span",{class:"token punctuation"},"("),c("summary "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},'"发同步消息"'),e("span",{class:"token punctuation"},")"),c("\n    "),e("span",{class:"token annotation punctuation"},"@PostMapping"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"/sync"'),e("span",{class:"token punctuation"},")"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"sendSync"),e("span",{class:"token punctuation"},"("),e("span",{class:"token annotation punctuation"},"@RequestBody"),c(),e("span",{class:"token class-name"},"String"),c(" message"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        "),e("span",{class:"token class-name"},"Map"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"Object"),e("span",{class:"token punctuation"},">")]),c(" headers "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"HashMap"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token punctuation"},">")]),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        headers"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"put"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"MessageConst"),e("span",{class:"token punctuation"},"."),c("PROPERTY_TAGS"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token class-name"},"MQTagConstant"),e("span",{class:"token punctuation"},"."),c("PRACTISE"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token class-name"},"Message"),e("span",{class:"token generics"},[e("span",{class:"token punctuation"},"<"),e("span",{class:"token class-name"},"String"),e("span",{class:"token punctuation"},">")]),c(" msg "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token class-name"},"MessageBuilder"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"createMessage"),e("span",{class:"token punctuation"},"("),c("message"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"MessageHeaders"),e("span",{class:"token punctuation"},"("),c("headers"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        "),e("span",{class:"token keyword"},"boolean"),c(" success "),e("span",{class:"token operator"},"="),c(" source"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"output"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"send"),e("span",{class:"token punctuation"},"("),c("msg"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"success: {}"'),e("span",{class:"token punctuation"},","),c(" success"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br")])],-1),fs=e("h4",{id:"消费者",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#消费者","aria-hidden":"true"},"#"),c(" 消费者")],-1),vs=e("div",{class:"language-java ext-java line-numbers-mode"},[e("pre",{class:"language-java"},[e("code",null,[e("span",{class:"token keyword"},"package"),c(),e("span",{class:"token namespace"},[c("com"),e("span",{class:"token punctuation"},"."),c("example"),e("span",{class:"token punctuation"},"."),c("rocketmqspringcloudstream"),e("span",{class:"token punctuation"},"."),c("consumer")]),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token annotation punctuation"},"@Slf4j"),c("\n"),e("span",{class:"token annotation punctuation"},"@Service"),c("\n"),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Consumer"),c(),e("span",{class:"token punctuation"},"{"),c("\n\n    "),e("span",{class:"token annotation punctuation"},"@StreamListener"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Sink"),e("span",{class:"token punctuation"},"."),c("INPUT"),e("span",{class:"token punctuation"},")"),c("\n    "),e("span",{class:"token keyword"},"public"),c(),e("span",{class:"token keyword"},"void"),c(),e("span",{class:"token function"},"consume"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"String"),c(" message"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        log"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"info"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"收到消息: {}"'),e("span",{class:"token punctuation"},","),c(" message"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br")])],-1),ys=e("h2",{id:"参考资料",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#参考资料","aria-hidden":"true"},"#"),c(" 参考资料")],-1),ws={href:"https://www.bilibili.com/video/BV1h54y1H7YF",target:"_blank",rel:"noopener noreferrer"},Ms=c("2021 年 B 站讲的最牛掰的 RocketMQ 分布式消息中间件：核心原理与最佳实践_哔哩哔哩_bilibili"),Ss={href:"http://rocketmq.apache.org/",target:"_blank",rel:"noopener noreferrer"},Rs=c("Apache RocketMQ"),Ts={href:"https://github.com/apache/rocketmq/tree/master/docs/cn",target:"_blank",rel:"noopener noreferrer"},xs=c("rocketmq/docs/cn at master · apache/rocketmq"),js={href:"https://github.com/apache/rocketmq-externals/tree/master/rocketmq-console",target:"_blank",rel:"noopener noreferrer"},Cs=c("rocketmq-externals/rocketmq-console at master · apache/rocketmq-externals"),Es={href:"https://www.jianshu.com/p/706588323276",target:"_blank",rel:"noopener noreferrer"},qs=c("基于 Docker 安装 RocketMQ - 简书"),Qs={href:"https://github.com/apache/rocketmq-docker/blob/master/templates/docker-compose/docker-compose.yml",target:"_blank",rel:"noopener noreferrer"},Os=c("rocketmq-docker/docker-compose.yml at master · apache/rocketmq-docker"),_s={href:"https://github.com/apache/rocketmq-spring/wiki/%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C",target:"_blank",rel:"noopener noreferrer"},Ls=c("用户手册・apache/rocketmq-spring Wiki"),As=e("hr",{class:"footnotes-sep"},null,-1),Ps={class:"footnotes"},Ds={class:"footnotes-list"},Ns={id:"footnote1",class:"footnote-item"},Us={href:"https://hub.docker.com/r/apacherocketmq/rocketmq-nameserver",target:"_blank",rel:"noopener noreferrer"},Is=c("apacherocketmq/rocketmq-nameserver - Docker Image | Docker Hub"),Bs=c(),Gs=e("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1),Fs={id:"footnote2",class:"footnote-item"},Hs={href:"https://hub.docker.com/r/apacherocketmq/rocketmq-broker",target:"_blank",rel:"noopener noreferrer"},Vs=c("apacherocketmq/rocketmq-broker - Docker Image | Docker Hub"),Ws=c(),Xs=e("a",{href:"#footnote-ref2",class:"footnote-backref"},"↩︎",-1),Ks={id:"footnote3",class:"footnote-item"},Ys={href:"https://hub.docker.com/r/apacherocketmq/rocketmq-console",target:"_blank",rel:"noopener noreferrer"},Js=c("apacherocketmq/rocketmq-console - Docker Image | Docker Hub"),$s=c(),zs=e("a",{href:"#footnote-ref3",class:"footnote-backref"},"↩︎",-1),Zs={id:"footnote4",class:"footnote-item"},na={href:"https://github.com/apache/rocketmq-externals/tree/master/rocketmq-console",target:"_blank",rel:"noopener noreferrer"},sa=c("rocketmq-externals/rocketmq-console at master · apache/rocketmq-externals"),aa=c(),ea=e("a",{href:"#footnote-ref4",class:"footnote-backref"},"↩︎",-1),ta={id:"footnote5",class:"footnote-item"},oa={href:"https://github.com/apache/rocketmq-spring/wiki/%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98",target:"_blank",rel:"noopener noreferrer"},ca=c("常见问题・apache/rocketmq-spring Wiki"),la=c(),pa=e("a",{href:"#footnote-ref5",class:"footnote-backref"},"↩︎",-1);l.render=function(c,l){const ua=n("OutboundLink");return s(),a(o,null,[p,u,r,i,k,m,b,d,g,h,f,v,y,w,M,S,R,T,x,j,C,E,q,Q,O,_,L,A,P,D,N,U,I,B,G,F,H,V,W,X,K,Y,J,$,z,Z,nn,sn,an,en,tn,on,cn,ln,pn,un,rn,kn,mn,bn,dn,gn,hn,fn,vn,yn,wn,Mn,Sn,Rn,Tn,xn,jn,Cn,En,qn,Qn,On,_n,Ln,An,Pn,Dn,Nn,Un,In,Bn,Gn,Fn,Hn,Vn,Wn,Xn,Kn,Yn,Jn,$n,zn,Zn,ns,ss,as,es,ts,os,cs,ls,ps,us,rs,is,ks,ms,bs,ds,gs,hs,fs,vs,ys,e("ol",null,[e("li",null,[e("a",ws,[Ms,t(ua)])]),e("li",null,[e("a",Ss,[Rs,t(ua)])]),e("li",null,[e("a",Ts,[xs,t(ua)])]),e("li",null,[e("a",js,[Cs,t(ua)])]),e("li",null,[e("a",Es,[qs,t(ua)])]),e("li",null,[e("a",Qs,[Os,t(ua)])]),e("li",null,[e("a",_s,[Ls,t(ua)])])]),As,e("section",Ps,[e("ol",Ds,[e("li",Ns,[e("p",null,[e("a",Us,[Is,t(ua)]),Bs,Gs])]),e("li",Fs,[e("p",null,[e("a",Hs,[Vs,t(ua)]),Ws,Xs])]),e("li",Ks,[e("p",null,[e("a",Ys,[Js,t(ua)]),$s,zs])]),e("li",Zs,[e("p",null,[e("a",na,[sa,t(ua)]),aa,ea])]),e("li",ta,[e("p",null,[e("a",oa,[ca,t(ua)]),la,pa])])])])],64)};export{l as default};
