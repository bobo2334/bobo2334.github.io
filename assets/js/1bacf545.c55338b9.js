"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2749],{3905:function(e,t,n){n.d(t,{Zo:function(){return g},kt:function(){return d}});var a=n(67294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var p=a.createContext({}),s=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},g=function(e){var t=s(e.components);return a.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,g=o(e,["components","mdxType","originalType","parentName"]),m=s(n),d=l,k=m["".concat(p,".").concat(d)]||m[d]||u[d]||r;return n?a.createElement(k,i(i({ref:t},g),{},{components:n})):a.createElement(k,i({ref:t},g))}));function d(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=n.length,i=new Array(r);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},19140:function(e,t,n){n.r(t),n.d(t,{assets:function(){return g},contentTitle:function(){return p},default:function(){return d},frontMatter:function(){return o},metadata:function(){return s},toc:function(){return u}});var a=n(83117),l=n(80102),r=(n(67294),n(3905)),i=["components"],o={date:new Date("2022-07-05T00:00:00.000Z"),tags:["gpg"]},p="\u4f7f\u7528 GPG \u7b7e\u540d\u548c\u52a0\u5bc6",s={permalink:"/blog/gpg",editUrl:"https://github.com/bobo2334/bobo2334.github.io/edit/master/blog/gpg.md",source:"@site/blog/gpg.md",title:"\u4f7f\u7528 GPG \u7b7e\u540d\u548c\u52a0\u5bc6",description:"\u524d\u8a00",date:"2022-07-05T00:00:00.000Z",formattedDate:"2022\u5e747\u67085\u65e5",tags:[{label:"gpg",permalink:"/blog/tags/gpg"}],readingTime:17.405,hasTruncateMarker:!1,authors:[],frontMatter:{date:"2022-07-05T00:00:00.000Z",tags:["gpg"]},prevItem:{title:"\u5728 Proxmox VE \u4e2d\u5b89\u88c5\u7fa4\u6656 DSM 7",permalink:"/blog/install-synology-dsm-7-in-proxmox-ve"},nextItem:{title:"Tailscale \u5f02\u5730\u7ec4\u7f51",permalink:"/blog/tailscale"}},g={authorsImageUrls:[]},u=[{value:"\u524d\u8a00",id:"\u524d\u8a00",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u521b\u5efa\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5",id:"\u521b\u5efa\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5",level:2},{value:"\u5217\u51fa\u5bc6\u94a5",id:"\u5217\u51fa\u5bc6\u94a5",level:2},{value:"\u7ba1\u7406\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5",id:"\u7ba1\u7406\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5",level:2},{value:"\u751f\u6210\u5b50\u5bc6\u94a5",id:"\u751f\u6210\u5b50\u5bc6\u94a5",level:2},{value:"\u7ba1\u7406 uid",id:"\u7ba1\u7406-uid",level:2},{value:"\u4e0a\u4f20\u516c\u94a5\u5230\u516c\u5f00\u670d\u52a1\u5668",id:"\u4e0a\u4f20\u516c\u94a5\u5230\u516c\u5f00\u670d\u52a1\u5668",level:2},{value:"\u7b7e\u540d\u548c\u9a8c\u8bc1",id:"\u7b7e\u540d\u548c\u9a8c\u8bc1",level:2},{value:"\u52a0\u5bc6\u548c\u89e3\u5bc6",id:"\u52a0\u5bc6\u548c\u89e3\u5bc6",level:2},{value:"\u5bf9\u79f0\u52a0\u5bc6",id:"\u5bf9\u79f0\u52a0\u5bc6",level:2},{value:"\u7b7e\u540d\u5e76\u52a0\u5bc6",id:"\u7b7e\u540d\u5e76\u52a0\u5bc6",level:2},{value:"\u5bfc\u51fa\u5bc6\u94a5",id:"\u5bfc\u51fa\u5bc6\u94a5",level:2},{value:"\u5220\u9664\u5bc6\u94a5",id:"\u5220\u9664\u5bc6\u94a5",level:2},{value:"\u5bfc\u5165\u5bc6\u94a5",id:"\u5bfc\u5165\u5bc6\u94a5",level:2},{value:"\u751f\u6210\u540a\u9500\u8bc1\u4e66",id:"\u751f\u6210\u540a\u9500\u8bc1\u4e66",level:2},{value:"\u540a\u9500\u5bc6\u94a5",id:"\u540a\u9500\u5bc6\u94a5",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"GPG \u548c Git",id:"gpg-\u548c-git",level:2},{value:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u66f4\u65b0\u516c\u94a5",id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u66f4\u65b0\u516c\u94a5",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}],m={toc:u};function d(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,a.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"\u524d\u8a00"},"\u524d\u8a00"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"GNU Privacy Guard\uff08GnuPG \u6216 GPG\uff09\u662f\u4e00\u4e2a\u5bc6\u7801\u5b66\u8f6f\u4ef6\uff0c\u7528\u4e8e\u52a0\u5bc6\u3001\u7b7e\u540d\u901a\u4fe1\u5185\u5bb9\u53ca\u7ba1\u7406\u975e\u5bf9\u79f0\u5bc6\u7801\u5b66\u7684\u5bc6\u94a5\u3002GnuPG \u662f\u81ea\u7531\u8f6f\u4ef6\uff0c\u9075\u5faa IETF \u8ba2\u5b9a\u7684 OpenPGP \u6280\u672f\u6807\u51c6\u8bbe\u8ba1\uff0c\u5e76\u4e0e PGP \u4fdd\u6301\u517c\u5bb9\u3002")),(0,r.kt)("h2",{id:"\u5b89\u88c5"},"\u5b89\u88c5"),(0,r.kt)("p",null,"\u5728 macOS \u4e0a\u53ef\u4ee5\u4f7f\u7528 Homebrew \u5b89\u88c5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"brew install --cask gpg-suite\n")),(0,r.kt)("p",null,"\u5728 Debian \u4e0a\u53ef\u4ee5\u4f7f\u7528 apt \u5b89\u88c5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"apt install gunpg\n")),(0,r.kt)("h2",{id:"\u521b\u5efa\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5"},"\u521b\u5efa\u81ea\u5df1\u7684\u516c\u94a5\u548c\u79c1\u94a5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--full-gen-key"),"\uff1a\u4f7f\u7528\u5b8c\u6574\u5411\u5bfc\u521b\u5efa\u5bc6\u94a5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'gpg --full-gen-key\n\ngpg (GnuPG/MacGPG2) 2.2.34; Copyright (C) 2022 g10 Code GmbH\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPlease select what kind of key you want:\n   (1) RSA and RSA (default)\n   (2) DSA and Elgamal\n   (3) DSA (sign only)\n   (4) RSA (sign only)\n  (14) Existing key from card\n# \u9009\u62e9 4\uff0c\u53ea\u751f\u6210\u4e00\u4e2a\u4e3b\u79c1\u94a5\uff0c\u540e\u9762\u518d\u751f\u6210\u5b50\u79c1\u94a5\u4f7f\u7528\nYour selection? 4\nRSA keys may be between 1024 and 4096 bits long.\nWhat keysize do you want? (3072) 4096\nRequested keysize is 4096 bits\nPlease specify how long the key should be valid.\n         0 = key does not expire\n      <n>  = key expires in n days\n      <n>w = key expires in n weeks\n      <n>m = key expires in n months\n      <n>y = key expires in n years\n# \u4e3b\u79c1\u94a5\u6c38\u4e0d\u8fc7\u671f\nKey is valid for? (0) 0\nKey does not expire at all\n# y\nIs this correct? (y/N) y\n\nGnuPG needs to construct a user ID to identify your key.\n\n# uid \u540d\u79f0\nReal name: Bug-Proof\n# uid \u7535\u5b50\u90ae\u4ef6\nEmail address: bug-proof@example.org\n# uid \u5907\u6ce8\nComment: for test only\nYou selected this USER-ID:\n    "Bug-Proof (for test only) <bug-proof@example.org>"\n\n# O\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\ngpg: revocation certificate stored as \'/Users/x/.gnupg/openpgp-revocs.d/8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272.rev\'\npublic and secret key created and signed.\n\nNote that this key cannot be used for encryption.  You may want to use\nthe command "--edit-key" to generate a subkey for this purpose.\npub   rsa4096/0x7DCE475DEA06B272 2022-07-04 [SC]\n      Key fingerprint = 8A8F B3D3 C4C8 1471 E7D0  DBA7 7DCE 475D EA06 B272\nuid                              Bug-Proof (for test only) <bug-proof@example.org>\n')),(0,r.kt)("h2",{id:"\u5217\u51fa\u5bc6\u94a5"},"\u5217\u51fa\u5bc6\u94a5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-k"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--list-keys"),"\uff1a\u5217\u51fa\u516c\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-K"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--list-secret-keys"),"\uff1a\u5217\u51fa\u79c1\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--keyid-format long"),"\uff1a\u663e\u793a\u5b8c\u6574\u7684 keyid")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5217\u51fa\u516c\u94a5\ngpg --keyid-format long -k\n\n/Users/x/.gnupg/pubring.kbx\n-------------------------------\npub   rsa4096/7DCE475DEA06B272 2022-07-04 [SC]\n      8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\nuid                 [ultimate] Bug-Proof (for test only) <bug-proof@example.org>\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5217\u51fa\u79c1\u94a5\ngpg --keyid-format long -K\n\n/Users/x/.gnupg/pubring.kbx\n-------------------------------\nsec   rsa4096/7DCE475DEA06B272 2022-07-04 [SC]\n      8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\nuid                 [ultimate] Bug-Proof (for test only) <bug-proof@example.org>\n")),(0,r.kt)("p",null,"\u4e0b\u8868\u662f\u7ed3\u679c\u4e2d\u7684\u4e00\u4e9b\u5173\u952e\u8bcd\u89e3\u91ca\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u7f29\u5199"),(0,r.kt)("th",{parentName:"tr",align:null},"\u539f\u6587"),(0,r.kt)("th",{parentName:"tr",align:null},"\u89e3\u91ca"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"pub")),(0,r.kt)("td",{parentName:"tr",align:null},"public key"),(0,r.kt)("td",{parentName:"tr",align:null},"\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sec")),(0,r.kt)("td",{parentName:"tr",align:null},"secret key"),(0,r.kt)("td",{parentName:"tr",align:null},"\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"uid")),(0,r.kt)("td",{parentName:"tr",align:null},"user identification"),(0,r.kt)("td",{parentName:"tr",align:null},"\u7528\u6237\u4fe1\u606f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"sub")),(0,r.kt)("td",{parentName:"tr",align:null},"public subkey"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b50\u516c\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ssb")),(0,r.kt)("td",{parentName:"tr",align:null},"secret subkey"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b50\u79c1\u94a5")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"S")),(0,r.kt)("td",{parentName:"tr",align:null},"Sign"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8868\u793a\u53ef\u4ee5\u7528\u4e8e\u7b7e\u540d")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"C")),(0,r.kt)("td",{parentName:"tr",align:null},"Certify"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ef\u4ee5\u7528\u4e8e\u8ba4\u8bc1")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"E")),(0,r.kt)("td",{parentName:"tr",align:null},"Encrypt"),(0,r.kt)("td",{parentName:"tr",align:null},"\u52a0\u5bc6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"A")),(0,r.kt)("td",{parentName:"tr",align:null},"Authenticate"),(0,r.kt)("td",{parentName:"tr",align:null},"\u8ba4\u8bc1")))),(0,r.kt)("h2",{id:"\u7ba1\u7406\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5"},"\u7ba1\u7406\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5"),(0,r.kt)("p",null,"\u4e3b\u79c1\u94a5\u4e0d\u5e94\u8be5\u76f4\u63a5\u4f7f\u7528\uff0c\u4e3b\u79c1\u94a5\u53ea\u7528\u6765\u7ba1\u7406\u4e3b\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5\uff0c\u4f7f\u7528\u5b50\u79c1\u94a5\u6765\u89e3\u5bc6\u548c\u7b7e\u540d\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gpg --edit-key Bug-Proof\ngpg --edit-key 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--edit-key"),"\uff1a\u540e\u8ddf\u7528\u6237\u540d\u6216\u8005\u6307\u7eb9")),(0,r.kt)("p",null,"\u4e4b\u540e\u4f1a\u8fdb\u5165\u4ea4\u4e92\u5f0f\u547d\u4ee4\u884c\uff0c\u5728\u5176\u4e2d\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u6765\u5bf9\u5bc6\u94a5\u8fdb\u884c\u7ba1\u7406\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"addkey"),"\uff0c\u589e\u52a0\u5b50\u5bc6\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"key <n>"),"\uff0c\u540e\u8ddf\u5bc6\u94a5 ID\uff0c\u6709\u4e9b\u5355\u4f53\u547d\u4ee4\u9700\u8981\u63d0\u524d\u9009\u62e9\u8981\u64cd\u4f5c\u7684 key\uff0c\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"key 0"),"\u53d6\u6d88\u9009\u62e9\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"key *"),"\u9009\u62e9\u6240\u6709",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"expire"),"\uff0c\u66f4\u6539\u5b50\u5bc6\u94a5\u7684\u8fc7\u671f\u65f6\u95f4"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"delkey"),"\uff0c\u5220\u9664\u5b50\u5bc6\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"revkey"),"\uff0c\u540a\u9500\u5b50\u5bc6\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"change-usage"),"\uff0c\u66f4\u6539\u5b50\u5bc6\u94a5\u7528\u6237"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"expire"),"\uff0c\u5982\u679c\u6ca1\u6709\u9009\u62e9\u5b50\u5bc6\u94a5\uff0c\u6b64\u547d\u4ee4\u66f4\u6539\u4e3b\u5bc6\u94a5\u7684\u8fc7\u671f\u65f6\u95f4"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"trust"),"\uff0c\u66f4\u6539\u6b64\u5bc6\u94a5\u7684\u4fe1\u4efb\u7ea7\u522b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"passwd"),"\uff0c\u66f4\u6539\u4e3b\u5bc6\u94a5\u5bc6\u7801"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"change-usage"),"\uff0c\u66f4\u6539\u4e3b\u5bc6\u94a5\u7528\u9014"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"save"),"\uff0c\u4fdd\u5b58\u66f4\u6539"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"quit"),"\uff0c\u9000\u51fa")),(0,r.kt)("h2",{id:"\u751f\u6210\u5b50\u5bc6\u94a5"},"\u751f\u6210\u5b50\u5bc6\u94a5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gpg --edit-key 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n\ngpg (GnuPG/MacGPG2) 2.2.34; Copyright (C) 2022 g10 Code GmbH\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nSecret key is available.\n\nsec  rsa4096/7DCE475DEA06B272\n     created: 2022-07-04  expires: never       usage: SC\n     trust: ultimate      validity: ultimate\n[ultimate] (1). Bug-Proof (for test only) <bug-proof@example.org>\n\n# addkey \u521b\u5efa\u5b50\u5bc6\u94a5\ngpg> addkey\nPlease select what kind of key you want:\n   (3) DSA (sign only)\n   (4) RSA (sign only)\n   (5) Elgamal (encrypt only)\n   (6) RSA (encrypt only)\n  (14) Existing key from card\n# \u521b\u5efa\u4e00\u4e2a RSA \u683c\u5f0f\u7684\u5b50\u5bc6\u94a5\uff0c\u4ec5\u7528\u4e8e\u7b7e\u540d\nYour selection? 4\nRSA keys may be between 1024 and 4096 bits long.\n# \u5bc6\u94a5\u957f\u5ea6\uff0c\u9ed8\u8ba4 3072\nWhat keysize do you want? (3072)\nRequested keysize is 3072 bits\nPlease specify how long the key should be valid.\n         0 = key does not expire\n      <n>  = key expires in n days\n      <n>w = key expires in n weeks\n      <n>m = key expires in n months\n      <n>y = key expires in n years\n# \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 1 \u5e74\nKey is valid for? (0) 1y\nKey expires at Wed Jul  5 19:51:48 2023 CST\n# y\nIs this correct? (y/N) y\n# y\nReally create? (y/N) y\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\n\nsec  rsa4096/7DCE475DEA06B272\n     created: 2022-07-04  expires: never       usage: SC\n     trust: ultimate      validity: ultimate\nssb  rsa3072/D45B326AA437793B\n     created: 2022-07-05  expires: 2023-07-05  usage: S\n[ultimate] (1). Bug-Proof (for test only) <bug-proof@example.org>\n\n# addkey \u521b\u5efa\u5b50\u5bc6\u94a5\ngpg> addkey\nPlease select what kind of key you want:\n   (3) DSA (sign only)\n   (4) RSA (sign only)\n   (5) Elgamal (encrypt only)\n   (6) RSA (encrypt only)\n  (14) Existing key from card\n# \u521b\u5efa\u4e00\u4e2a RSA \u683c\u5f0f\u7684\u5b50\u5bc6\u94a5\uff0c\u4ec5\u7528\u4e8e\u7b7e\u540d\nYour selection? 6\nRSA keys may be between 1024 and 4096 bits long.\n# \u5bc6\u94a5\u957f\u5ea6\uff0c\u9ed8\u8ba4 3072\nWhat keysize do you want? (3072)\nRequested keysize is 3072 bits\nPlease specify how long the key should be valid.\n         0 = key does not expire\n      <n>  = key expires in n days\n      <n>w = key expires in n weeks\n      <n>m = key expires in n months\n      <n>y = key expires in n years\n# \u8bbe\u7f6e\u8fc7\u671f\u65f6\u95f4 1 \u5e74\nKey is valid for? (0) 1y\nKey expires at Wed Jul  5 19:52:02 2023 CST\n# y\nIs this correct? (y/N) y\n# y\nReally create? (y/N) y\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\n\nsec  rsa4096/7DCE475DEA06B272\n     created: 2022-07-04  expires: never       usage: SC\n     trust: ultimate      validity: ultimate\nssb  rsa3072/D45B326AA437793B\n     created: 2022-07-05  expires: 2023-07-05  usage: S\nssb  rsa3072/E7728368B3AAB2B7\n     created: 2022-07-05  expires: 2023-07-05  usage: E\n[ultimate] (1). Bug-Proof (for test only) <bug-proof@example.org>\n\ngpg> save\n")),(0,r.kt)("h2",{id:"\u7ba1\u7406-uid"},"\u7ba1\u7406 uid"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"adduid"),"\uff0c\u589e\u52a0\u7528\u6237\u4fe1\u606f"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"uid <n>"),"\uff0c\u540e\u8ddf uid \u7d22\u5f15\uff0c\u9009\u62e9\u67d0\u4e2a uid \u64cd\u4f5c\uff0c\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"li"},"uid 0"),"\u53d6\u6d88\u9009\u62e9\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"uid *"),"\u9009\u62e9\u6240\u6709"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"save"),"\uff0c\u4fdd\u5b58\u4fee\u6539")),(0,r.kt)("h2",{id:"\u4e0a\u4f20\u516c\u94a5\u5230\u516c\u5f00\u670d\u52a1\u5668"},"\u4e0a\u4f20\u516c\u94a5\u5230\u516c\u5f00\u670d\u52a1\u5668"),(0,r.kt)("p",null,"\u9664\u975e\u5fc5\u8981\uff0c\u4e0d\u8981\u4e0a\u4f20\u516c\u94a5\u5230\u516c\u5f00\u7684\u516c\u94a5\u670d\u52a1\u5668\uff0c\u4e0a\u4f20\u4e4b\u540e\u5c31\u4e0d\u80fd\u5220\u9664\u4e86\uff0c\u53ea\u80fd\u8fdb\u884c\u4fee\u6539\u548c\u540a\u9500\uff0c\u4f60\u7684\u7528\u6237\u540d\u548c\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u6240\u6709\u4eba\u90fd\u80fd\u770b\u5230\u3002"),(0,r.kt)("h2",{id:"\u7b7e\u540d\u548c\u9a8c\u8bc1"},"\u7b7e\u540d\u548c\u9a8c\u8bc1"),(0,r.kt)("p",null,"\u7b7e\u540d\u7684\u4f7f\u7528\u573a\u666f\u662f\u786e\u4fdd\u81ea\u5df1\u53d1\u9001\u7ed9\u522b\u4eba\u7684\u4fe1\u606f\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u88ab\u4fee\u6539\u3002\u7b7e\u540d\u4f7f\u7528\u81ea\u5df1\u7684\u79c1\u94a5\uff0c\u63a5\u6536\u8005\u7528\u6211\u7684\u516c\u94a5\u8fdb\u884c\u9a8c\u8bc1\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-s"),",",(0,r.kt)("inlineCode",{parentName:"li"},"--sign"),"\uff1a\u7b7e\u540d"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--clear-sing"),"\uff1a\u7b7e\u540d\u548c\u539f\u6587\u653e\u4e00\u8d77\uff0c\u90fd\u662f ASCII \u5f62\u5f0f"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-b"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--detach-sign"),"\uff1a\u7b7e\u540d\u548c\u6587\u4ef6\u5206\u79bb"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--verify"),"\uff1a\u9a8c\u8bc1"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-a"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--armor"),"\uff1a\u8f93\u51fa ASCII \u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u4e8c\u8fdb\u5236\u5185\u5bb9"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-u"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--local-user"),"\uff1a\u6307\u5b9a\u4f7f\u7528\u67d0\u4e2a\u79c1\u94a5\u7b7e\u540d")),(0,r.kt)("p",null,"\u51c6\u5907\u4e00\u4e2a\u6587\u4ef6",(0,r.kt)("inlineCode",{parentName:"p"},"message.txt"),"\u4f5c\u4e3a\u6d4b\u8bd5\u6587\u4ef6\uff0c\u5176\u5185\u5bb9\u5982\u4e0b\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-txt"},"Hello\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# \u7b7e\u540d\uff0c\u4f1a\u751f\u6210 message.txt.gpg \u6587\u4ef6\n# \u53d1\u9001\u7684\u65f6\u5019\u4e24\u4e2a\u6587\u4ef6\u4e00\u8d77\u53d1\u9001\ngpg -u D45B326AA437793B -s message.txt\n\n# \u9a8c\u8bc1\n# \u9a8c\u8bc1\u7684\u65f6\u5019\u8981\u628a\u539f\u6587\u548c\u7b7e\u540d\u653e\u5728\u4e00\u8d77\ngpg --verify message.txt.gpg\ngpg: Signature made Tue Jul  5 20:29:49 2022 CST\ngpg:                using RSA key 589AFC0EF76D48A4C1165E63D45B326AA437793B\ngpg: Good signature from "Bug-Proof (for test only) <bug-proof@example.org>" [ultimate]\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7b7e\u540d\uff0c\u4f1a\u751f\u6210 message.txt.asc\uff0c\u662f\u6587\u672c\u6587\u4ef6\uff0c\u7b7e\u540d\u548c\u539f\u6587\u653e\u5728\u4e00\u8d77\n# \u53d1\u9001\u7684\u65f6\u5019\u53ea\u7528\u53d1\u9001 message.txt.asc\ngpg -u D45B326AA437793B --clear-sign message.txt\ncat message.txt.asc\n-----BEGIN PGP SIGNED MESSAGE-----\nHash: SHA256\n\nHello\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAEBCAAdFiEEWJr8DvdtSKTBFl5j1FsyaqQ3eTsFAmLELz8ACgkQ1FsyaqQ3\neTvY2Av/XCDbRdK8kM4r5PRnALVKYGsVVJC84JPfxa7iPG1/1bUtRMZm69aGMApa\nsm0CHDElRTwVZf3orIZ2u/Ahmlrdne9GULa3FkZGSZ5DY9xGHCbk7zmIJJXwTJZw\n7as6uexU5Qb3sEA+RrbhanDv6Q36LS0772MwB/ijcHppakbxUPPLhdZOSAjm+0s6\nQy6JYW6iTjaXMcxS4xCPJ4LGFDeV6uOjuDNfBOL3ZdyT/jgIFm5LW5Sb4xiFn/gk\nRZit0xga38RgczmBWWOCj8TMoSz7VBuHWNl+5OlcGrE5Fnemv2p1BkcZ47tTfm1T\nSF+bWMUsgRLvH15kUtfweQ58BDX2dZWb3SrAjMwACoRDMZ314grPXJE/Tl5ZXvc4\n7wtCI+g7E7eqNJ3w3kWqb2LNo1BuWAjiaaHmTJ7gmGtG6VqX1Muk2JyyWr49LyZA\nYHQFXVfVYBmih5FgrU3l7mKWfTv+niVRp6JQXxtXnbH1SOwZdnz+HKR2UEf2IwRD\n+HyHkNcH\n=w3M/\n-----END PGP SIGNATURE-----\n# \u9a8c\u8bc1\ngpg --verify message.txt.asc\ngpg: Signature made Tue Jul  5 20:31:59 2022 CST\ngpg:                using RSA key 589AFC0EF76D48A4C1165E63D45B326AA437793B\ngpg: Good signature from \"Bug-Proof (for test only) <bug-proof@example.org>\" [ultimate]\ngpg: WARNING: not a detached signature; file 'message.txt' was NOT verified!\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7b7e\u540d\uff0c\u751f\u6210 message.txt.sig\uff0c\u7b7e\u540d\u6587\u4ef6\u662f\u4e8c\u8fdb\u5236\u7684\ngpg -u D45B326AA437793B -b message.txt\n\n# \u9a8c\u8bc1\ngpg --verify message.txt.sig\ngpg: assuming signed data in 'message.txt'\ngpg: Signature made Tue Jul  5 20:40:21 2022 CST\ngpg:                using RSA key 589AFC0EF76D48A4C1165E63D45B326AA437793B\ngpg: Good signature from \"Bug-Proof (for test only) <bug-proof@example.org>\" [ultimate]\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7b7e\u540d\uff0c\u751f\u6210 message.txt.asc\uff0c\u53ea\u5b58\u653e\u7b7e\u540d\u4e0d\u5b58\u653e\u539f\u6587\ngpg -u D45B326AA437793B -a -b message.txt\ncat message.txt.asc\n-----BEGIN PGP SIGNATURE-----\n\niQGzBAABCAAdFiEEWJr8DvdtSKTBFl5j1FsyaqQ3eTsFAmLEO5QACgkQ1FsyaqQ3\neTtA/AwAtYnst04ORGPaBnq/Rz7QLjg+L0FlNFL3+BELAjaPfYAmxjW/rsKQIS6B\nr7JVXZsIs9EwzVMQFA6EI0NY1pOomAz4szzf/jqipJT3TadXjyh1Wx3Js/+xdOhm\naUboz2aHxeEDvq2g1bF3nbOQ8kE1TJTZUX7fGD6BeFnCF2HVkHb1MEBzZ9xCJGFE\nnjVF52gP/GFInHPUuIa2GCeEtGv/Dsr5IjODqZwohxVJq0rGvhBGTcmGv/6pOeLp\nB4g7uauqGv6QZtiK5gf4BfrPyeGXVHiSD2V5mKOSKRi0gTaUTf0UEl1UehpWOfdo\nvwX0CnidD5uxzqMhPP5o587eLx9DczFw4IsscjflSSbBp7eW5t6EXm+KPkOj22vc\nqpc81dQQfXCm1FjOHedmfyJLPt+RXOM53KBHT6CaNUUzWx2a4x4kbsfC0auzMbXU\nnye9hARzbSNvMD6cRqY/y0yAsYK/6ilXeX5qKwwXA/D0IFl0md8eZfsOQqYPA3E3\nJJWVt5Hw\n=ESB9\n-----END PGP SIGNATURE-----\n# \u9a8c\u8bc1\ngpg --verify message.txt.asc\ngpg: assuming signed data in 'message.txt'\ngpg: Signature made Tue Jul  5 21:24:36 2022 CST\ngpg:                using RSA key 589AFC0EF76D48A4C1165E63D45B326AA437793B\ngpg: Good signature from \"Bug-Proof (for test only) <bug-proof@example.org>\" [ultimate]\n")),(0,r.kt)("h2",{id:"\u52a0\u5bc6\u548c\u89e3\u5bc6"},"\u52a0\u5bc6\u548c\u89e3\u5bc6"),(0,r.kt)("p",null,"\u52a0\u5bc6\u7528\u63a5\u6536\u8005\u7684\u516c\u94a5\uff0c\u89e3\u5bc6\u7528\u63a5\u6536\u8005\u7684\u79c1\u94a5\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-e"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--encrypt"),"\uff1a\u52a0\u5bc6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-c"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--symmetric"),"\uff1a\u5bf9\u79f0\u52a0\u5bc6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-d"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--decrypt"),"\uff1a\u89e3\u5bc6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-r"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--recipient"),"\uff1a\u6307\u5b9a\u63a5\u6536\u8005\u516c\u94a5"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-a"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--armor"),"\uff1a\u8f93\u51fa ASCII \u5185\u5bb9\uff0c\u800c\u4e0d\u662f\u4e8c\u8fdb\u5236\u5185\u5bb9"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-o"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--output"),"\uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d\uff0c\u800c\u4e0d\u662f\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u52a0\u5bc6\uff0c\u751f\u6210 message.txt.gpg\uff0c\u5185\u5bb9\u4e3a\u4e8c\u8fdb\u5236\u683c\u5f0f\ngpg -r 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272 -e message.txt\n\n# \u52a0\u5bc6\uff0c\u751f\u6210 message.txt.asc\uff0c\u5185\u5bb9\u4e3a\u6587\u672c\u683c\u5f0f\ngpg -r 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272 -a -e message.txt\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u89e3\u5bc6\uff0c\u8f93\u51fa\u5230\u5c4f\u5e55\ngpg -d message.txt.gpg\ngpg -d message.txt.asc\n\n# \u89e3\u5bc6\uff0c\u8f93\u51fa\u5230\u6587\u4ef6\ngpg -d message.txt.gpg -o message-decrypted.txt\ngpg -d message.txt.asc -o message-decrypted.txt\n")),(0,r.kt)("h2",{id:"\u5bf9\u79f0\u52a0\u5bc6"},"\u5bf9\u79f0\u52a0\u5bc6"),(0,r.kt)("p",null,"GPG \u9664\u4e86\u53ef\u4ee5\u4f7f\u7528\u5bc6\u94a5\u8fdb\u884c\u975e\u5bf9\u79f0\u52a0\u5bc6\uff0c\u8fd8\u53ef\u4ee5\u4f7f\u7528\u5bf9\u79f0\u52a0\u5bc6\uff0c\u5373\u52a0\u5bc6\u548c\u89e3\u5bc6\u90fd\u7528\u540c\u4e00\u4e2a\u5bc6\u7801\uff0c\u4e0d\u9700\u8981\u5bc6\u94a5\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-c"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--symmetric"),"\uff1a\u5bf9\u79f0\u52a0\u5bc6"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--cipher-algo"),"\uff1a\u9009\u62e9\u52a0\u5bc6\u7b97\u6cd5\uff0c\u9ed8\u8ba4\u662f AES-128")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5bf9\u79f0\u52a0\u5bc6\uff0c\u4f1a\u6709\u5f39\u7a97\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u751f\u6210 message.txt.gpg\ngpg --symmetric message.txt\n# \u5bf9\u79f0\u52a0\u5bc6\uff0c\u4f1a\u6709\u5f39\u7a97\u63d0\u793a\u4f60\u8f93\u5165\u5bc6\u7801\uff0c\u751f\u6210 message.txt.asc\ngpg -a --symmetric message.txt\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u89e3\u5bc6\ngpg -d message.txt.gpg\ngpg -d message.txt.asc\n")),(0,r.kt)("h2",{id:"\u7b7e\u540d\u5e76\u52a0\u5bc6"},"\u7b7e\u540d\u5e76\u52a0\u5bc6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7b7e\u540d\u5e76\u52a0\u5bc6\uff0c\u8f93\u51fa message.txt.asc\uff0c\u6587\u672c\u6587\u4ef6\ngpg -u D45B326AA437793B -r 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272 -a -s -e message.txt\n\n# \u89e3\u5bc6\u5e76\u9a8c\u8bc1\ngpg -d message.txt.asc -o message-decrypted.txt\n")),(0,r.kt)("h2",{id:"\u5bfc\u51fa\u5bc6\u94a5"},"\u5bfc\u51fa\u5bc6\u94a5"),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u547d\u4ee4\u7528\u4e8e\u5bfc\u51fa\u516c\u94a5\u3002\u5bfc\u51fa\u7684\u516c\u94a5\u4e0d\u4ec5\u4ec5\u662f\u4e3b\u516c\u94a5\uff0c\u8fd8\u5305\u62ec\u6240\u6709\u5b50\u5bc6\u94a5\u7684\u516c\u94a5\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gpg -a -o bug-proof.pub --export 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n")),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u547d\u4ee4\u7528\u4e8e\u5bfc\u51fa\u4e3b\u79c1\u94a5\u3002\u5728\u5907\u4efd\u7684\u65f6\u5019\u8bb0\u5f97\u628a\u540a\u9500\u8bc1\u4e66\u4e00\u8d77\u5907\u4efd\u4e86\u3002"),(0,r.kt)("p",null,"\u8981\u5728\u5bc6\u94a5\u6307\u7eb9\u540e\u52a0\u4e0a\u53f9\u53f7",(0,r.kt)("inlineCode",{parentName:"p"},"!"),"\uff0c\u4e0d\u7136\u4f1a\u8fde\u5b50\u5bc6\u94a5\u7684\u79c1\u94a5\u4e00\u8d77\u5bfc\u51fa\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5bfc\u51fa\u4e3b\u5bc6\u94a5\ngpg -a -o bug-proof.sec --export-secret-keys 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272!\n# \u5bfc\u51fa\u4e3b\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5\ngpg -a -o bug-proof.all.sec --export-secret-keys 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n")),(0,r.kt)("p",null,"\u4e0b\u9762\u7684\u547d\u4ee4\u7528\u4e8e\u5355\u72ec\u5bfc\u51fa\u5b50\u79c1\u94a5\u3002\u8981\u5728\u5bc6\u94a5\u6307\u7eb9\u540e\u52a0\u4e0a\u53f9\u53f7",(0,r.kt)("inlineCode",{parentName:"p"},"!"),"\uff0c\u4e0d\u7136\u6240\u6709\u5b50\u5bc6\u94a5\u7684\u79c1\u94a5\u4e00\u8d77\u5bfc\u51fa\u4e86\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gpg -a -o bug-proof.s.ssb --export-secret-subkeys D45B326AA437793B!\ngpg -a -o bug-proof.e.ssb --export-secret-subkeys E7728368B3AAB2B7!\n")),(0,r.kt)("h2",{id:"\u5220\u9664\u5bc6\u94a5"},"\u5220\u9664\u5bc6\u94a5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5220\u9664\u4e3b\u79c1\u94a5\ngpg --delete-secret-keys 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272!\n\n# \u5220\u9664\u5b50\u79c1\u94a5\ngpg --delete-secret-keys D45B326AA437793B!\ngpg --delete-secret-keys E7728368B3AAB2B7!\n\n# \u5220\u9664\u516c\u94a5\ngpg --delete-keys 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n")),(0,r.kt)("h2",{id:"\u5bfc\u5165\u5bc6\u94a5"},"\u5bfc\u5165\u5bc6\u94a5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u5bfc\u5165\u516c\u94a5\ngpg --import bug-proof.pub\n# \u5bfc\u5165\u4e3b\u79c1\u94a5\ngpg --import bug-proof.sec\n# \u5bfc\u5165\u5b50\u79c1\u94a5\ngpg --import bug-proof.s.ssb\n# \u5bfc\u5165\u5b50\u79c1\u94a5\ngpg --import bug-proof.e.ssb\n")),(0,r.kt)("h2",{id:"\u751f\u6210\u540a\u9500\u8bc1\u4e66"},"\u751f\u6210\u540a\u9500\u8bc1\u4e66"),(0,r.kt)("p",null,"\u5728\u4f60\u5fd8\u8bb0\u4e3b\u5bc6\u94a5\u7684\u5bc6\u7801\uff0c\u6216\u8005\u5931\u53bb\u4e3b\u5bc6\u94a5\u63a7\u5236\u6743\u7684\u65f6\u5019\u53ef\u4ee5\u4f7f\u7528\u540a\u9500\u8bc1\u4e66\u6765\u540a\u9500\u5bc6\u94a5\u3002\u540a\u9500\u4e4b\u540e\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684\u516c\u94a5\uff0c\u5176\u4e2d\u5305\u542b\u4e86\u540a\u9500\u4fe1\u606f\uff0c\u4f60\u9700\u8981\u628a\u8fd9\u4e2a\u516c\u94a5\u53d1\u5e03\u5230\u4f60\u4e00\u8d2f\u53d1\u5e03\u516c\u94a5\u7684\u5730\u65b9\uff0c\u901a\u77e5\u5176\u4ed6\u4eba\u6b64\u5bc6\u94a5\u5df2\u540a\u9500\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"-o"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--output"),"\uff1a\u6307\u5b9a\u8f93\u51fa\u6587\u4ef6\u540d\uff0c\u800c\u4e0d\u662f\u8f93\u51fa\u5230\u6807\u51c6\u8f93\u51fa"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"--gen-revoke"),"\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"--generate-revocation"),"\uff1a\u751f\u6210\u540a\u9500\u8bc1\u4e66")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"gpg -o bug-proof.revoke.cert --gen-revoke 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n\nsec  rsa4096/7DCE475DEA06B272 2022-07-04 Bug-Proof (for test only) <bug-proof@example.org>\n# y\nCreate a revocation certificate for this key? (y/N) y\nPlease select the reason for the revocation:\n  0 = No reason specified\n  1 = Key has been compromised\n  2 = Key is superseded\n  3 = Key is no longer used\n  Q = Cancel\n(Probably you want to select 1 here)\n# \u9009\u62e9\u540a\u9500\u539f\u56e0\nYour decision? 0\nEnter an optional description; end it with an empty line:\n# \u81ea\u5df1\u5199\u540a\u9500\u539f\u56e0\uff0c\u53ef\u4ee5\u4e0d\u5199\n>\nReason for revocation: No reason specified\n(No description given)\n# y\nIs this okay? (y/N) y\nASCII armored output forced.\nRevocation certificate created.\n\nPlease move it to a medium which you can hide away; if Mallory gets\naccess to this certificate he can use it to make your key unusable.\nIt is smart to print this certificate and store it away, just in case\nyour media become unreadable.  But have some caution:  The print system of\nyour machine might store the data and make it available to others!\n")),(0,r.kt)("h2",{id:"\u540a\u9500\u5bc6\u94a5"},"\u540a\u9500\u5bc6\u94a5"),(0,r.kt)("p",null,"\u540a\u9500\u5bc6\u94a5\u53ea\u9700\u8981\u516c\u94a5\u548c\u540a\u9500\u8bc1\u4e66\uff0c\u628a\u516c\u94a5\u548c\u540a\u9500\u8bc1\u4e66\u5408\u5e76\u4e4b\u540e\u516c\u94a5\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u53d1\u5e03\u65b0\u516c\u94a5\u5373\u53ef\u5bf9\u5176\u4ed6\u4eba\u8868\u660e\u5df2\u540a\u9500\u8bc1\u4e66\u3002"),(0,r.kt)("p",null,"\u8fd9\u4e2a\u6b65\u9aa4\u662f\u540a\u9500\u6574\u4e2a\u5bc6\u94a5\uff0c\u5982\u679c\u9700\u8981\u540a\u9500\u5b50\u5bc6\u94a5\u7684\u8bdd\u53ef\u4ee5\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"--edit-key"),"\u547d\u4ee4\u4e2d\u5b8c\u6210\u3002"),(0,r.kt)("p",null,"\u540a\u9500\u5bc6\u94a5\u7684\u6b65\u9aa4\u5982\u4e0b\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5bfc\u51fa\u540a\u9500\u8bc1\u4e66\uff0c\u8fd9\u4e00\u6b65\u8981\u63d0\u524d\u505a\uff0c\u628a\u540a\u9500\u8bc1\u4e66\u548c\u79c1\u94a5\u5355\u72ec\u4fdd\u5b58"),(0,r.kt)("li",{parentName:"ol"},"\u5bfc\u5165\u540a\u9500\u8bc1\u4e66\uff0c\u548c\u73b0\u6709\u7684\u516c\u94a5\u5408\u5e76"),(0,r.kt)("li",{parentName:"ol"},"\u5bfc\u51fa\u5408\u5e76\u4e4b\u540e\u7684\u516c\u94a5"),(0,r.kt)("li",{parentName:"ol"},"\u53d1\u5e03\u516c\u94a5"),(0,r.kt)("li",{parentName:"ol"},"\u5176\u4ed6\u4eba\u5bfc\u5165\u4f60\u7684\u65b0\u516c\u94a5\u5c31\u77e5\u9053\u4f60\u7684\u5bc6\u94a5\u5df2\u7ecf\u540a\u9500\u4e86")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4e0a\u4e00\u6b65\u5df2\u7ecf\u63d0\u524d\u5bfc\u51fa\u4e86\u540a\u9500\u8bc1\u4e66\ngpg --import bug-proof.revoke.cert\n# \u67e5\u770b\u8bc1\u4e66\u5217\u8868\uff0c\u4f1a\u770b\u5230 revoked \u6807\u8bb0\ngpg --keyid-format long -k\n/Users/x/.gnupg/pubring.kbx\n-------------------------------\npub   rsa4096/7DCE475DEA06B272 2022-07-04 [SC] [revoked: 2022-07-05]\n      8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\nuid                 [ revoked] Bug-Proof (for test only) <bug-proof@example.org>\n# \u5bfc\u51fa\u65b0\u516c\u94a5\ngpg -a -o bug-proof.revoked.pub --export 8A8FB3D3C4C81471E7D0DBA77DCE475DEA06B272\n")),(0,r.kt)("h2",{id:"\u6700\u4f73\u5b9e\u8df5"},"\u6700\u4f73\u5b9e\u8df5"),(0,r.kt)("p",null,"\u4e3b\u79c1\u94a5\u53ea\u7528\u6765\u7ba1\u7406\u4e3b\u5bc6\u94a5\u548c\u5b50\u5bc6\u94a5\uff0c\u65e5\u5e38\u7684\u7b7e\u540d\u548c\u52a0\u5bc6\u7528\u9014\u53ea\u7528\u5b50\u5bc6\u94a5\uff0c\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7528\u9014\u5206\u522b\u751f\u6210\u4e0d\u540c\u7684\u5b50\u5bc6\u94a5\u3002"),(0,r.kt)("p",null,"\u4e3b\u5bc6\u94a5\u5e73\u65f6\u4e0d\u5bfc\u5165\u5230\u672c\u5730\uff0c\u800c\u662f\u4fdd\u5b58\u5728\u5176\u4ed6\u5730\u65b9\u3002"),(0,r.kt)("p",null,"\u540c\u65f6\u4e5f\u8981\u8bb0\u5f97\u751f\u6210\u540a\u9500\u8bc1\u4e66\u5e76\u4fdd\u5b58\uff0c\u4e3b\u5bc6\u94a5\u53ef\u4ee5\u4e22\uff0c\u540a\u9500\u8bc1\u4e66\u4e00\u5b9a\u4e0d\u80fd\u4e22\u3002"),(0,r.kt)("h2",{id:"gpg-\u548c-git"},"GPG \u548c Git"),(0,r.kt)("p",null,"\u56e0\u4e3a Git \u8bbe\u7f6e\u4e2d\u7684 username \u548c email \u90fd\u662f\u53ef\u4ee5\u968f\u610f\u4fee\u6539\u7684\uff0c\u6240\u4ee5\u5e76\u4e0d\u4e00\u5b9a\u80fd\u4fdd\u8bc1\u67d0\u4e2a Git \u63d0\u4ea4\u662f\u771f\u7684\u4f60\u505a\u7684\u3002"),(0,r.kt)("p",null,"\u9996\u5148\u4f60\u9700\u8981\u628a\u4f60\u7684\u516c\u94a5\u4e0a\u4f20\u81f3 Git \u670d\u52a1\u5668\uff0c\u5982 Github \u6216\u8005 Gitlab\u3002"),(0,r.kt)("p",null,"\u8bbe\u7f6e Git\uff0c\u4f7f\u7528\u5b50\u5bc6\u94a5\u7b7e\u540d\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git config --global user.signingkey D45B326AA437793B\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7b7e\u540d\u63d0\u4ea4\ngit commit -S -m \"commit message\"\n# \u7b7e\u540d\u5408\u5e76\u63d0\u4ea4\ngit merge -S  signed-branch\n# \u9a8c\u8bc1\u63d0\u4ea4\ngit log --show-signature\n\n# \u7b7e\u540d\u6807\u7b7e\ngit tag -s v1.5 -m 'my signed 1.5 tag'\n# \u9a8c\u8bc1\u6807\u7b7e\ngit tag -v <tag-name>\n")),(0,r.kt)("h2",{id:"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u66f4\u65b0\u516c\u94a5"},"\u4ec0\u4e48\u60c5\u51b5\u4e0b\u9700\u8981\u66f4\u65b0\u516c\u94a5"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5bc6\u94a5\u540a\u9500\u4e4b\u540e"),(0,r.kt)("li",{parentName:"ol"},"\u66f4\u6539\u4e3b\u5bc6\u94a5\u7684\u6709\u6548\u671f\u4e4b\u540e"),(0,r.kt)("li",{parentName:"ol"},"\u4fee\u6539 uid \u4fe1\u606f\u4e4b\u540e"),(0,r.kt)("li",{parentName:"ol"},"\u5bf9\u5b50\u5bc6\u94a5\u8fdb\u884c\u4fee\u6539\u4e4b\u540e")),(0,r.kt)("h2",{id:"\u53c2\u8003\u8d44\u6599"},"\u53c2\u8003\u8d44\u6599"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.gnupg.org/howtos/zh/index.html"},"Gnu \u9690\u79c1\u536b\u58eb (GnuPG) \u8896\u73cd HOWTO (\u4e2d\u6587\u7248)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://ulyc.github.io/2021/01/13/2021%E5%B9%B4-%E7%94%A8%E6%9B%B4%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8PGP-%E4%B8%8A/"},"2021 \u5e74\uff0c\u7528\u66f4\u73b0\u4ee3\u7684\u65b9\u6cd5\u4f7f\u7528 PGP\uff08\u4e0a\uff09 - C \u7684\u535a\u5ba2 |UlyC")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://ulyc.github.io/2021/01/18/2021%E5%B9%B4-%E7%94%A8%E6%9B%B4%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8PGP-%E4%B8%AD/"},"2021 \u5e74\uff0c\u7528\u66f4\u73b0\u4ee3\u7684\u65b9\u6cd5\u4f7f\u7528 PGP\uff08\u4e2d\uff09 - C \u7684\u535a\u5ba2 |UlyC")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://ulyc.github.io/2021/01/26/2021%E5%B9%B4-%E7%94%A8%E6%9B%B4%E7%8E%B0%E4%BB%A3%E7%9A%84%E6%96%B9%E6%B3%95%E4%BD%BF%E7%94%A8PGP-%E4%B8%8B/"},"2021 \u5e74\uff0c\u7528\u66f4\u73b0\u4ee3\u7684\u65b9\u6cd5\u4f7f\u7528 PGP\uff08\u4e0b\uff09 - C \u7684\u535a\u5ba2 |UlyC")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://blog.creedowl.com/posts/gpg/"},"GPG \u4f7f\u7528\u7b14\u8bb0")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://blog.fbicloud.com/gpg-help/"},"GnuPG \u5b66\u4e60\u7b14\u8bb0 - FBICLOUD")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://docs.gitlab.com/ee/user/project/repository/gpg_signed_commits/"},"Signing commits with GPG | GitLab")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E7%AD%BE%E7%BD%B2%E5%B7%A5%E4%BD%9C"},"Git - \u7b7e\u7f72\u5de5\u4f5c"))))}d.isMDXComponent=!0}}]);