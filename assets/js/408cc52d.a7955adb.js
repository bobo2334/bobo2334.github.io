"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9579],{3905:function(e,t,a){a.d(t,{Zo:function(){return k},kt:function(){return u}});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),m=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},k=function(e){var t=m(e.components);return n.createElement(o.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,o=e.parentName,k=p(e,["components","mdxType","originalType","parentName"]),d=m(a),u=l,N=d["".concat(o,".").concat(u)]||d[u]||s[u]||r;return a?n.createElement(N,i(i({ref:t},k),{},{components:a})):n.createElement(N,i({ref:t},k))}));function u(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=d;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:l,i[1]=p;for(var m=2;m<r;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},75484:function(e,t,a){a.r(t),a.d(t,{assets:function(){return k},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return p},metadata:function(){return m},toc:function(){return s}});var n=a(83117),l=a(80102),r=(a(67294),a(3905)),i=["components"],p={},o="Java Web",m={unversionedId:"notes/java/java-web",id:"notes/java/java-web",title:"Java Web",description:"\u53c2\u8003\u8d44\u6599",source:"@site/docs/notes/java/java-web.md",sourceDirName:"notes/java",slug:"/notes/java/java-web",permalink:"/docs/notes/java/java-web",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Android",permalink:"/docs/notes/java/android"},next:{title:"JDBC",permalink:"/docs/notes/java/jdbc"}},k={},s=[{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2},{value:"Tomcat",id:"tomcat",level:2},{value:"Tomcat \u7b80\u4ecb",id:"tomcat-\u7b80\u4ecb",level:3},{value:"Tomcat \u76ee\u5f55\u7ed3\u6784",id:"tomcat-\u76ee\u5f55\u7ed3\u6784",level:3},{value:"Servlet",id:"servlet",level:2},{value:"\u6982\u5ff5",id:"\u6982\u5ff5",level:3},{value:"\u5f15\u5165",id:"\u5f15\u5165",level:3},{value:"\u5feb\u901f\u5165\u95e8",id:"\u5feb\u901f\u5165\u95e8",level:3},{value:"\u751f\u547d\u5468\u671f",id:"\u751f\u547d\u5468\u671f",level:3},{value:"\u4f53\u7cfb\u7ed3\u6784",id:"\u4f53\u7cfb\u7ed3\u6784",level:3},{value:"ServletConfig",id:"servletconfig",level:3},{value:"ServletContext",id:"servletcontext",level:3},{value:"HttpServlet",id:"httpservlet",level:3},{value:"ServletRequest",id:"servletrequest",level:3},{value:"HttpServletRequest",id:"httpservletrequest",level:3},{value:"ServletResponse",id:"servletresponse",level:3},{value:"HttpServletResponse",id:"httpservletresponse",level:3},{value:"RequestDispatcher",id:"requestdispatcher",level:3},{value:"\u89e3\u51b3\u4e71\u7801\u95ee\u9898",id:"\u89e3\u51b3\u4e71\u7801\u95ee\u9898",level:3},{value:"Cookie",id:"cookie",level:3},{value:"HttpSession",id:"httpsession",level:3},{value:"JSP",id:"jsp",level:2},{value:"\u811a\u672c\u6807\u7b7e",id:"\u811a\u672c\u6807\u7b7e",level:3},{value:"\u6307\u4ee4",id:"\u6307\u4ee4",level:3},{value:"\u6ce8\u91ca",id:"\u6ce8\u91ca",level:3},{value:"\u4e5d\u5927\u9690\u542b\u5bf9\u8c61",id:"\u4e5d\u5927\u9690\u542b\u5bf9\u8c61",level:3},{value:"\u56db\u5927\u57df\u5bf9\u8c61",id:"\u56db\u5927\u57df\u5bf9\u8c61",level:3},{value:"EL \u8868\u8fbe\u5f0f",id:"el-\u8868\u8fbe\u5f0f",level:3},{value:"\u8fd0\u7b97\u7b26",id:"\u8fd0\u7b97\u7b26",level:4},{value:"\u83b7\u53d6\u503c",id:"\u83b7\u53d6\u503c",level:4},{value:"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027",id:"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027",level:4},{value:"List",id:"list",level:4},{value:"Map",id:"map",level:4},{value:"JSTL",id:"jstl",level:3},{value:"Filter",id:"filter",level:2},{value:"Filter \u5feb\u901f\u5165\u95e8",id:"filter-\u5feb\u901f\u5165\u95e8",level:3},{value:"web.xml \u914d\u7f6e Filter",id:"webxml-\u914d\u7f6e-filter",level:3},{value:"\u6ce8\u89e3\u914d\u7f6e Filter",id:"\u6ce8\u89e3\u914d\u7f6e-filter",level:3},{value:"Filter \u751f\u547d\u5468\u671f",id:"filter-\u751f\u547d\u5468\u671f",level:3},{value:"\u62e6\u622a\u8def\u5f84",id:"\u62e6\u622a\u8def\u5f84",level:3},{value:"\u62e6\u622a\u65b9\u5f0f",id:"\u62e6\u622a\u65b9\u5f0f",level:3},{value:"\u8fc7\u6ee4\u5668\u94fe",id:"\u8fc7\u6ee4\u5668\u94fe",level:3},{value:"Listener",id:"listener",level:2},{value:"\u76d1\u542c\u5668\u5217\u8868",id:"\u76d1\u542c\u5668\u5217\u8868",level:3},{value:"\u4f7f\u7528\u76d1\u542c\u5668",id:"\u4f7f\u7528\u76d1\u542c\u5668",level:3},{value:"Servlet 3.0",id:"servlet-30",level:2},{value:"\u6ce8\u89e3\u914d\u7f6e",id:"\u6ce8\u89e3\u914d\u7f6e",level:3},{value:"ServletContentInitializer",id:"servletcontentinitializer",level:3},{value:"\u5f02\u6b65\u8bf7\u6c42",id:"\u5f02\u6b65\u8bf7\u6c42",level:3}],d={toc:s};function u(e){var t=e.components,p=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},d,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"java-web"},"Java Web"),(0,r.kt)("h2",{id:"\u53c2\u8003\u8d44\u6599"},"\u53c2\u8003\u8d44\u6599"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.bilibili.com/video/BV1AS4y177xJ"},"\u5c1a\u7845\u8c37\u4e28 2022 \u7248 JavaWeb \u6559\u7a0b (\u5168\u65b0\u6280\u672f\u6808\uff0c\u5168\u7a0b\u5b9e\u6218)","_","\u54d4\u54e9\u54d4\u54e9","_","bilibili")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://heavy_code_industry.gitee.io/code_heavy_industry/pro001-javaweb/"},"JavaWeb | \u4ee3\u7801\u91cd\u5de5")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://www.wolai.com/518LcmX2Ruo7c7SKaVbrNz"},"Web \u9636\u6bb5 [\u8fd8\u6ca1\u5f00\u59cb\u5199]")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://javadoc.io/doc/javax.servlet"},"group javax.servlet has published 4 artifact(s) with total 41 version(s)"))),(0,r.kt)("h2",{id:"tomcat"},"Tomcat"),(0,r.kt)("h3",{id:"tomcat-\u7b80\u4ecb"},"Tomcat \u7b80\u4ecb"),(0,r.kt)("p",null,"Servlet \u5bb9\u5668\uff0c\u5b9e\u73b0\u4e86 Servlet \u6807\u51c6\u3002"),(0,r.kt)("h3",{id:"tomcat-\u76ee\u5f55\u7ed3\u6784"},"Tomcat \u76ee\u5f55\u7ed3\u6784"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20200711005516015",src:a(48625).Z,width:"832",height:"494"})),(0,r.kt)("h2",{id:"servlet"},"Servlet"),(0,r.kt)("h3",{id:"\u6982\u5ff5"},"\u6982\u5ff5"),(0,r.kt)("p",null,"Server applet\uff0c\u8fd0\u884c\u5728\u670d\u52a1\u5668\u7aef\u7684\u5c0f\u7a0b\u5e8f\u3002"),(0,r.kt)("p",null,"Servlet \u5c5e\u4e8e Java EE \u6807\u51c6\uff0c\u7528\u4e8e\u4f01\u4e1a\u7ea7 Web \u5f00\u53d1\uff0c\u540e\u6539\u540d\u4e3a Jakarta EE\u3002"),(0,r.kt)("p",null,"Servlet\u3001Tomcat \u548c Java \u7248\u672c\u9009\u62e9\u8bf7\u53c2\u8003 ",(0,r.kt)("em",{parentName:"p"},"Tomcat \u7f51\u7ad9")," ",(0,r.kt)("sup",{parentName:"p",id:"fnref-1"},(0,r.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),"\u3002\u5173\u4e8e Servlet \u540d\u79f0\u5386\u53f2\u53ca\u7248\u672c\u5386\u53f2\u53ef\u4ee5\u53c2\u8003\u5176 ",(0,r.kt)("em",{parentName:"p"},"\u7ef4\u57fa\u767e\u79d1\u9875\u9762")," ",(0,r.kt)("sup",{parentName:"p",id:"fnref-2"},(0,r.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),"\u3002"),(0,r.kt)("h3",{id:"\u5f15\u5165"},"\u5f15\u5165"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"4.0.1 \u53ca\u4e4b\u524d\u4f7f\u7528\u6b64 Maven \u5750\u6807\uff0c\u642d\u914d Tomcat 9 \u53ca\u4e4b\u524d\u7248\u672c\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --\x3e\n<dependency>\n    <groupId>javax.servlet</groupId>\n    <artifactId>javax.servlet-api</artifactId>\n    <version>4.0.1</version>\n    <scope>provided</scope>\n</dependency>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"4.0.2 \u53ca\u4e4b\u540e\u4f7f\u7528\u6b64\u5750\u6807\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --\x3e\n<dependency>\n    <groupId>jakarta.servlet</groupId>\n    <artifactId>jakarta.servlet-api</artifactId>\n    <version>4.0.4</version>\n    <scope>provided</scope>\n</dependency>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"5.0 \u4e4b\u540e\u4f7f\u7528\u6b64\u5750\u6807\uff0c\u642d\u914d Tomcat 10 \u4f7f\u7528\u3002\u4ece 5 \u5f00\u59cb\u540e\u5305\u540d\u6539\u53d8\u4e86\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --\x3e\n<dependency>\n    <groupId>jakarta.servlet</groupId>\n    <artifactId>jakarta.servlet-api</artifactId>\n    <version>6.0.0</version>\n    <scope>provided</scope>\n</dependency>\n")))),(0,r.kt)("h3",{id:"\u5feb\u901f\u5165\u95e8"},"\u5feb\u901f\u5165\u95e8"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u521b\u5efa JavaEE \u9879\u76ee")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5b9a\u4e49\u4e00\u4e2a\u7c7b\uff0c\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"javax.servlet.Servlet"),"\u63a5\u53e3")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u5b9e\u73b0\u63a5\u53e3\u4e2d\u7684\u62bd\u8c61\u65b9\u6cd5\uff0c\u53ea\u91cd\u5199",(0,r.kt)("inlineCode",{parentName:"p"},"service"),"\u65b9\u6cd5\u5c31\u53ef\u4ee5")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u914d\u7f6e Servlet")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},"\u6539 ",(0,r.kt)("inlineCode",{parentName:"p"},"web.xml")," \u6587\u4ef6"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"\x3c!--    \u914d\u7f6e Servlet--\x3e\n<servlet>\n    <servlet-name>demo</servlet-name>\n    <servlet-class>me.iuok.web.Demo</servlet-class>\n</servlet>\n\n<servlet-mapping>\n    <servlet-name>demo</servlet-name>\n    <url-pattern>/</url-pattern>\n</servlet-mapping>\n")))),(0,r.kt)("h3",{id:"\u751f\u547d\u5468\u671f"},"\u751f\u547d\u5468\u671f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6784\u9020\u5668\u65b9\u6cd5\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"void init(ServletConfig servletConfig)"),"\u9ed8\u8ba4\u7b2c\u4e00\u6b21\u88ab\u8bbf\u95ee\u65f6\u6267\u884c\uff0c\u53ea\u4f1a\u6267\u884c\u4e00\u6b21\uff0c\u8bbe\u7f6e ",(0,r.kt)("inlineCode",{parentName:"li"},"<load-on-startup>0</load-on-startup>")," \u53ef\u4ee5\u5728\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"void service(ServletRequest servletRequest, ServletResponse servletResponse)"),"\u6bcf\u6b21\u8bbf\u95ee\u670d\u52a1\u7684\u65f6\u5019\u90fd\u4f1a\u6267\u884c\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"void destroy()"),"\u5173\u95ed\u65f6\u6267\u884c\uff0c\u53ea\u6267\u884c\u4e00\u6b21\u3002")),(0,r.kt)("h3",{id:"\u4f53\u7cfb\u7ed3\u6784"},"\u4f53\u7cfb\u7ed3\u6784"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Servlet"),"\u53ea\u662f\u4e00\u4e2a\u63a5\u53e3\uff0c\u6211\u4eec\u8981\u4f7f\u7528\u5b83\u7684\u8bdd\u9700\u8981\u5b9e\u73b0\u91cc\u9762\u6240\u6709\u7684\u62bd\u8c61\u65b9\u6cd5\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"GenericServlet"),"\u5bf9\u6240\u6709\u62bd\u8c61\u65b9\u6cd5\u4f5c\u4e86\u7a7a\u5b9e\u73b0\uff0c\u6211\u4eec\u53ea\u9700\u8981\u91cd\u5199\u81ea\u5df1\u9700\u8981\u7528\u5230\u7684\u65b9\u6cd5\uff0c\u6bd4\u5982",(0,r.kt)("inlineCode",{parentName:"li"},"service()"),"\uff0c\u5176\u5b83\u4e0d\u9700\u8981\u7684\u65b9\u6cd5\u4fdd\u6301\u9ed8\u8ba4\u5373\u53ef\uff1b"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpServlet")," \u5bf9",(0,r.kt)("inlineCode",{parentName:"li"},"Servlet"),"\u4f5c\u4e86\u66f4\u591a\u7684\u5c01\u88c5\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"service"),"\u4e5f\u4e0d\u9700\u8981\u6211\u4eec\u81ea\u5df1\u5199\u4e86\uff0c\u5b83\u5728 ",(0,r.kt)("inlineCode",{parentName:"li"},"service"),"\u65b9\u6cd5\u91cc\u5bf9\u8bf7\u6c42\u65b9\u5f0f\u4f5c\u4e86\u5224\u65ad\uff0c\u7136\u540e\u8f6c\u53d1\u8bf7\u6c42\u5230\u5bf9\u5e94\u7684 ",(0,r.kt)("inlineCode",{parentName:"li"},"doGet"),"\u3001",(0,r.kt)("inlineCode",{parentName:"li"},"doPost")," \u7b49\u65b9\u6cd5\u4e2d\uff0c\u6211\u4eec\u53ea\u9700\u8981\u91cd\u5199\u8fd9\u4e9b\u65b9\u6cd5\u5c31\u53ef\u4ee5\u3002")),(0,r.kt)("h3",{id:"servletconfig"},"ServletConfig"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"String getInitParameter(String name)"),"\u53ef\u4ee5\u4ece\u914d\u7f6e\u6587\u4ef6\u4e2d\u8bfb\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"init-param"),"\u4e2d\u7684\u5185\u5bb9\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<servlet>\n<servlet-name>exampleServlet</servlet-name>\n<servlet-class>me.iuok.servlet.ExampleServlet</servlet-class>\n<init-param>\n        <param-name>encode</param-name>\n        <param-value>UTF-8</param-value>\n</init-param>\n</servlet>\n")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'Enumeration<String> parameterNames = config.getInitParameterNames();\nwhile (parameterNames.hasMoreElements()) {\nString parameterName = parameterNames.nextElement();\nString value = config.getInitParameter(parameterName);\nlog.info("{}: {}", parameterName, value);\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Enumeration<String> getInitParameterNames()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"ServletContext getServletContext()"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"String getServletName()")))),(0,r.kt)("h3",{id:"servletcontext"},"ServletContext"),(0,r.kt)("p",null,"\u5f53\u524d Servlet \u7c7b\u7684\u5b9e\u4f8b\uff0c\u53ef\u4ee5\u548c\u5bb9\u5668\u901a\u8baf\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Enumeration<String> getInitParameterNames()"),"\u83b7\u53d6",(0,r.kt)("inlineCode",{parentName:"p"},"context-param"),"\u914d\u7f6e\uff0c\u8fd9\u662f\u6240\u6709 Servlet \u90fd\u53ef\u4ee5\u8bfb\u53d6\u7684\u3002"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<context-param>\n<param-name>encoding</param-name>\n<param-value>UTF-8</param-value>\n</context-param>\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"String getInitParameter(String name)"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"String getContextPath()"),"\u83b7\u53d6\u9879\u76ee\u8def\u5f84\uff0c\u5728\u524d\u9762\u4f1a\u6709\u4e00\u4e2a",(0,r.kt)("inlineCode",{parentName:"p"},"/"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"String getRealPath(String path)"),"\u83b7\u53d6\u6587\u4ef6\u5728\u78c1\u76d8\u4e0a\u7684\u771f\u5b9e\u8def\u5f84"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u83b7\u53d6 MIME \u7c7b\u578b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String getMimeType(String file)")))),(0,r.kt)("li",{parentName:"ol"},"\u57df\u5bf9\u8c61\uff1a\u5171\u4eab\u6570\u636e\uff0c\u6240\u7528\u4f1a\u8bdd\u6240\u6709\u8bf7\u6c42\u7684\u6570\u636e\uff0c\u5728\u6574\u4e2a\u5bb9\u5668\u7684\u751f\u547d\u5468\u671f\u91cc\u90fd\u5b58\u5728",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void\xa0setAttribute(String\xa0name, Object\xa0object)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Object getAttribute(String name)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void removeAttribute(String name)")))),(0,r.kt)("li",{parentName:"ol"},"\u83b7\u53d6\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String getRealPath(String path)"))))),(0,r.kt)("p",null,"\u4e24\u79cd\u83b7\u53d6\u529e\u6cd5\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"ServletContext ",(0,r.kt)("inlineCode",{parentName:"li"},"servletRequset.getServletContext()")),(0,r.kt)("li",{parentName:"ol"},"ServletContext ",(0,r.kt)("inlineCode",{parentName:"li"},"genericServlet.getServletContext()"))),(0,r.kt)("h3",{id:"httpservlet"},"HttpServlet"),(0,r.kt)("p",null,"\u76f4\u63a5\u5b9e\u73b0",(0,r.kt)("inlineCode",{parentName:"p"},"Servlet"),"\u6765\u5b9e\u73b0\u65b9\u6cd5\u592a\u9ebb\u70e6\uff0c\u4ee5\u540e\u76f4\u63a5\u7ee7\u627f",(0,r.kt)("inlineCode",{parentName:"p"},"HttpServlet"),"\u3002\u5b83\u91cd\u5199\u4e86",(0,r.kt)("inlineCode",{parentName:"p"},"Servlet"),"\u65b9\u6cd5\uff0c\u73b0\u5728\u5c31\u4e0d\u9700\u8981\u5199",(0,r.kt)("inlineCode",{parentName:"p"},"service"),"\u65b9\u6cd5\u4e86\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"doGet(HttpServletRequest req, HttpServletResponse resp)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"doXxx(...)"))),(0,r.kt)("h3",{id:"servletrequest"},"ServletRequest"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u8bf7\u6c42\u53c2\u6570",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String getParameter(String name)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Enumeration<String> getParameterNames()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String[] getParameterValues(String name)")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Map<String,String[]> getParameterMap()")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"RequestDispatcher getRequestDispatcher(String path)"),"\u83b7\u53d6\u8bf7\u6c42\u8f6c\u53d1\u5668\u5b9e\u4f8b\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"path"),"\u6307\u5b9a\u8f6c\u53d1\u76ee\u7684\u5730\uff0c\u6839\u76ee\u5f55\u5305\u62ec\u9879\u76ee\u8def\u5f84")),(0,r.kt)("h3",{id:"httpservletrequest"},"HttpServletRequest"),(0,r.kt)("p",null,"\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"ServletRequest"),"\u7684\u5b50\u63a5\u53e3\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String getContextPath()"),"\u83b7\u53d6\u9879\u76ee\u8def\u5f84\uff0c\u5728 ServletContext \u4e2d\u4e5f\u6709\u4e00\u4e2a\u76f8\u540c\u7684\u65b9\u6cd5")),(0,r.kt)("h3",{id:"servletresponse"},"ServletResponse"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletOutputStream getOutputStream()"),"\u83b7\u53d6\u8f93\u51fa\u5b57\u8282\u6d41"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"PrintWriter getWriter()"),"\u83b7\u53d6\u8f93\u51fa\u5b57\u7b26\u6d41"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void setCharacterEncoding(String charset)"),"\u8bbe\u7f6e\u54cd\u5e94\u5185\u5bb9\u7684\u7f16\u7801\u683c\u5f0f"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void setContentType(String type)"),"\u52a0\u4e00\u4e2a\u8bf7\u6c42\u5934",(0,r.kt)("inlineCode",{parentName:"li"},"Content-Type"),"\uff0c\u53ef\u4ee5\u544a\u8bc9\u6d4f\u89c8\u5668\u8fd4\u56de\u5185\u5bb9\u7684\u7f16\u7801\u683c\u5f0f")),(0,r.kt)("h3",{id:"httpservletresponse"},"HttpServletResponse"),(0,r.kt)("p",null,"\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"ServletResponse"),"\u7684\u5b50\u63a5\u53e3\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void sendRedirect(String location)"),"\u53d1\u9001\u91cd\u5b9a\u5411\u4fe1\u606f\uff1b\u8bbe\u7f6e\u72b6\u6001\u7801\u4e3a 302\uff0c",(0,r.kt)("inlineCode",{parentName:"li"},"Location"),"\u4e3a\u91cd\u5b9a\u5411\u7684\u5730\u5740\uff1b\u6d4f\u89c8\u5668\u4f1a\u91cd\u65b0\u5bf9\u8fd9\u4e2a\u5730\u5740\u53d1\u9001\u8bf7\u6c42\uff0c\u6839\u76ee\u5f55\u4e0d\u5305\u62ec\u9879\u76ee\u8def\u5f84\uff0c\u5982\u679c\u9700\u8981\u7684\u65f6\u5019\u8981\u624b\u52a8\u62fc\u63a5\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"setHeader(String name, String value)"),"\u8bbe\u7f6e\u8bf7\u6c42\u5934"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"void setStatus(int sc)"),"\u8bbe\u7f6e\u54cd\u5e94\u72b6\u6001\u7801")),(0,r.kt)("h3",{id:"requestdispatcher"},"RequestDispatcher"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"forward(ServletRequest request, ServletResponse response)"),"\u8f6c\u53d1\u8bf7\u6c42\uff0c\u53ef\u4ee5\u643a\u5e26\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u662f\u5185\u90e8\u8f6c\u53d1\uff0c\u5c06 request \u548c response \u4ea4\u7ed9\u522b\u7684\u5904\u7406\u5668\u5904\u7406\uff0c\u8ddf\u6d41\u6c34\u7ebf\u4e00\u6837\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"include(ServletRequest request, ServletResponse response)"))),(0,r.kt)("h3",{id:"\u89e3\u51b3\u4e71\u7801\u95ee\u9898"},"\u89e3\u51b3\u4e71\u7801\u95ee\u9898"),(0,r.kt)("p",null,"GET \u8bf7\u6c42\u7684\u53c2\u6570\u4e71\u7801\uff0c\u4fee\u6539 Tomcat \u7684\u914d\u7f6e\u6587\u4ef6\uff0c\u5728",(0,r.kt)("inlineCode",{parentName:"p"},"server.xml"),"\u4e2d\u4fee\u6539",(0,r.kt)("inlineCode",{parentName:"p"},"Connector"),"\u6807\u7b7e\uff0c\u6dfb\u52a0",(0,r.kt)("inlineCode",{parentName:"p"},'URIEncoding="utf-8"'),"\u5c5e\u6027\u3002"),(0,r.kt)("p",null,"POST \u8bf7\u6c42\u7684\u53c2\u6570\u4e71\u7801\uff0c\u624b\u52a8\u6307\u5b9a request \u6570\u636e\u7684\u7f16\u7801\u65b9\u5f0f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'req.setCharacterEncoding("utf-8");\n')),(0,r.kt)("p",null,"\u54cd\u5e94\u5185\u5bb9\u4e2d\u7684\u4e71\u7801\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u670d\u52a1\u5668\u7aef\u7684\u7f16\u7801\u65b9\u5f0f\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'resp.setCharacterEncoding("utf-8");\n')),(0,r.kt)("p",null,"\u5e76\u4e14\u8bbe\u7f6e\u54cd\u5e94\u5934\u8ba9\u6d4f\u89c8\u5668\u77e5\u9053\u7f16\u7801\u65b9\u5f0f\u3002\u4ee5\u4e0b\u4e8c\u9009\u4e00\uff0c\u529f\u80fd\u4e00\u6837\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'resp.setContentType("text/html;charset=utf-8");\nresp.setHeader("Content-Type", "text/html;charset=utf-8");\n')),(0,r.kt)("h3",{id:"cookie"},"Cookie"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Cookie[] ",(0,r.kt)("inlineCode",{parentName:"li"},"httpServletRequest.getCookies()")),(0,r.kt)("li",{parentName:"ul"},"void ",(0,r.kt)("inlineCode",{parentName:"li"},"httpServletResponse.addCookie(Cookie cookie)"))),(0,r.kt)("h3",{id:"httpsession"},"HttpSession"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"HttpSession ",(0,r.kt)("inlineCode",{parentName:"li"},"httpServletRequest.getSession()"))),(0,r.kt)("p",null,"Session \u662f\u670d\u52a1\u7aef\u4f1a\u8bdd\u6280\u672f\uff0c\u4f9d\u8d56 Cookie \u8fd0\u884c\uff0c\u5728 Cookie \u4e2d\u7684\u540d\u5b57\u662f",(0,r.kt)("inlineCode",{parentName:"p"},"JSESSIONID"),"\u3002\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u6765\u83b7\u53d6\u6216\u8005\u521b\u5efa\u4e00\u4e2a Session\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},"HttpSession session = request.getSession(true);\n")),(0,r.kt)("p",null,"Session \u4e2d\u53ef\u4ee5\u4fdd\u5b58\u6570\u636e\uff0c\u53ef\u4ee5\u5728\u540c\u4e00\u4e2a\u4f1a\u8bdd\u4e2d\u8fdb\u884c\u8bbf\u95ee\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'String s = reader.readLine();\nsession.setAttribute("value", s);\n\nObject value = session.getAttribute("value");\nwriter.write((String) value);\n')),(0,r.kt)("p",null,"\u9ed8\u8ba4\u60c5\u51b5\u4e0b Session \u4f1a\u5728\u6d4f\u89c8\u5668\u5173\u95ed\u540e\u5931\u6548\uff0c\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u503c\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"JSESSIONID"),"\u7684 Cookie \u7684\u5931\u6548\u65f6\u95f4\u6765\u4fdd\u6301 Seesion\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'HttpSession session = req.getSession();\nCookie cookie = new Cookie("JSESSIONID", session.getId());\ncookie.setMaxAge(60 * 60);\nresp.addCookie(cookie);\n')),(0,r.kt)("h2",{id:"jsp"},"JSP"),(0,r.kt)("p",null,"Java Server Pages\uff0c\u65e2\u53ef\u4ee5\u5199 HTML \u6807\u7b7e\uff0c\u53c8\u53ef\u4ee5\u5199 Java \u4ee3\u7801\u3002\u5b83\u672c\u8d28\u4e0a\u5c31\u662f\u4e00\u4e2a Servlet\u3002"),(0,r.kt)("h3",{id:"\u811a\u672c\u6807\u7b7e"},"\u811a\u672c\u6807\u7b7e"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"<% coding here %>"),"\u5b9a\u4e49\u7684 Java \u4ee3\u7801\u5728 service \u65b9\u6cd5\u4e2d"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"<%! coding here %>"),"\u5b9a\u4e49\u7684\u7c7b\u7684\u6210\u5458"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"<%= coding here %>"),"\u76f4\u63a5\u8f93\u51fa\u91cc\u9762\u7684\u53d8\u91cf")),(0,r.kt)("h3",{id:"\u6307\u4ee4"},"\u6307\u4ee4"),(0,r.kt)("p",null,"\u7528\u4e8e\u914d\u7f6e JSP \u9875\u9762\u4ee5\u53ca\u5bfc\u5165\u8d44\u6e90\u6587\u4ef6\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},"<%@ \u6307\u4ee4\u540d\u79f0 \u5c5e\u6027\u540d1=\u5c5e\u6027\u503c1 %>\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"page\uff1a\u7528\u4e8e\u914d\u7f6e\u9875\u9762",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"contentType"),(0,r.kt)("li",{parentName:"ol"},"pageEncoding"),(0,r.kt)("li",{parentName:"ol"},"import\uff1a\u5bfc\u5305"),(0,r.kt)("li",{parentName:"ol"},"errorPage\uff1a\u5f53\u524d\u9875\u9762\u53d1\u751f\u9519\u8bef\u4e4b\u540e\u4f1a\u81ea\u52a8\u8df3\u8f6c\u5230\u6307\u5b9a\u7684\u9519\u8bef\u9875\u9762"),(0,r.kt)("li",{parentName:"ol"},"isErrorPage\uff1a\u5f53\u524d\u9875\u9762\u662f\u5426\u662f\u9519\u8bef\u9875\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u7f6e\u5bf9\u8c61 exception"),(0,r.kt)("li",{parentName:"ol"},"isELIgnored\uff1a\u662f\u5426\u5ffd\u7565 EL \u8868\u8fbe\u5f0f"))),(0,r.kt)("li",{parentName:"ol"},"include\uff1a\u5bfc\u5165\u5176\u5b83\u9875\u9762",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"file"))),(0,r.kt)("li",{parentName:"ol"},"taglib\uff1a\u5bfc\u5165\u6807\u7b7e\u5e93",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"prefix"),(0,r.kt)("li",{parentName:"ol"},"uri")))),(0,r.kt)("h3",{id:"\u6ce8\u91ca"},"\u6ce8\u91ca"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsp"},"<%-- \u4e2d\u95f4\u662f\u6ce8\u91ca --%>\n")),(0,r.kt)("h3",{id:"\u4e5d\u5927\u9690\u542b\u5bf9\u8c61"},"\u4e5d\u5927\u9690\u542b\u5bf9\u8c61"),(0,r.kt)("p",null,"\u5728 JSP \u9875\u9762\u4e2d\u4e0d\u9700\u8981\u521b\u5efa\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7684\u5bf9\u8c61\u3002"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"JSP \u5185\u7f6e\u5bf9\u8c61"),(0,r.kt)("th",{parentName:"tr",align:null},"\u5b9e\u4f8b\u5bf9\u8c61"),(0,r.kt)("th",{parentName:"tr",align:null},"\u5907\u6ce8"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"out")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"JspWriter")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5b57\u7b26\u8f93\u51fa\u6d41")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"config")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ServletConfig")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"page")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Servlet")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"pageContext")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageContext")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"exception")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Throwable")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"request")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpServletRequest")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"response")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpServletResponse")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"application")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ServletContext")),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"session")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpSession")),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("p",null,"\u5173\u4e8e",(0,r.kt)("inlineCode",{parentName:"p"},"out"),"\u5b57\u7b26\u8f93\u51fa\u6d41\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u548c",(0,r.kt)("inlineCode",{parentName:"li"},"response.getWriter()"),"\u7c7b\u4f3c"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"getWriter()"),"\u7684\u8f93\u51fa\u4e0d\u7ba1\u5b9a\u4e49\u5728 JSP \u7684\u54ea\u4e2a\u4f4d\u7f6e\u90fd\u4f1a\u5148\u4e8e",(0,r.kt)("inlineCode",{parentName:"li"},"out"),"\u8f93\u51fa")),(0,r.kt)("h3",{id:"\u56db\u5927\u57df\u5bf9\u8c61"},"\u56db\u5927\u57df\u5bf9\u8c61"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u57df\u5bf9\u8c61"),(0,r.kt)("th",{parentName:"tr",align:null},"\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u8303\u56f4"),(0,r.kt)("th",{parentName:"tr",align:null},"\u5907\u6ce8"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageContext")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"PageContext")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d JSP \u9875\u9762"),(0,r.kt)("td",{parentName:"tr",align:null},"\u53ea\u80fd\u5728 JSP \u4e2d\u83b7\u53d6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Request")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpServletRequest")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u8bf7\u6c42"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Seesion")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"HttpSession")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u4f1a\u8bdd"),(0,r.kt)("td",{parentName:"tr",align:null})),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Application")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"ServletContext")),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u5e94\u7528"),(0,r.kt)("td",{parentName:"tr",align:null})))),(0,r.kt)("h3",{id:"el-\u8868\u8fbe\u5f0f"},"EL \u8868\u8fbe\u5f0f"),(0,r.kt)("p",null,"Expression Language\uff0c\u53ef\u4ee5\u7b80\u5316 JSP \u9875\u9762\u4e0a Java \u4ee3\u7801\u7684\u4e66\u5199\u3002"),(0,r.kt)("p",null,"\u8bed\u6cd5\uff1a",(0,r.kt)("inlineCode",{parentName:"p"},"${\u8868\u8fbe\u5f0f}")),(0,r.kt)("p",null,"\u5728 EL \u8868\u8fbe\u5f0f\u4e4b\u524d\u52a0\u53cd\u659c\u7ebf\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u7684\u89e3\u6790\u3002"),(0,r.kt)("h4",{id:"\u8fd0\u7b97\u7b26"},"\u8fd0\u7b97\u7b26"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u7b97\u672f\u8fd0\u7b97\u7b26"),(0,r.kt)("li",{parentName:"ol"},"\u6bd4\u8f83\u8fd0\u7b97\u7b26"),(0,r.kt)("li",{parentName:"ol"},"\u903b\u8f91\u8fd0\u7b97\u7b26"),(0,r.kt)("li",{parentName:"ol"},"\u7a7a\u8fd0\u7b97\u7b26",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"empty\uff1a\u5224\u65ad\u5b57\u7b26\u4e32\u3001\u6570\u7ec4\u6216\u96c6\u5408\u662f\u5426\u4e3a null \u6216\u957f\u5ea6\u4e3a 0"),(0,r.kt)("li",{parentName:"ol"},"not empty")))),(0,r.kt)("h4",{id:"\u83b7\u53d6\u503c"},"\u83b7\u53d6\u503c"),(0,r.kt)("p",null,"\u8bed\u6cd5\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"${\u57df\u540d\u79f0 .\u952e\u540d}")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"${\u952e\u540d}"),(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"\u4ece\u6700\u5c0f\u7684\u57df\u5f00\u59cb\u4f9d\u6b21\u5bfb\u627e\u8fd9\u4e2a\u952e\u540d\u7684\u503c")))),(0,r.kt)("h4",{id:"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027"},"\u83b7\u53d6\u5bf9\u8c61\u7684\u5c5e\u6027"),(0,r.kt)("p",null,"\u5c5e\u6027\uff1a\u53bb\u6389 get/set \u4e4b\u540e\u5269\u4f59\u7684\u90e8\u5206\u7b2c\u4e00\u4e2a\u5b57\u6bcd\u5c0f\u5199\u3002"),(0,r.kt)("h4",{id:"list"},"List"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"${\u57df .\u952e\u540d [\u7d22\u5f15]}")),(0,r.kt)("h4",{id:"map"},"Map"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"${\u57df .\u952e\u540d.key}")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},'${\u57df .\u952e\u540d.["key"]}')),(0,r.kt)("h3",{id:"jstl"},"JSTL"),(0,r.kt)("p",null,"JSP Standard Tag Library\uff0cJSP \u6807\u51c6\u6807\u7b7e\u5e93\u3002\u7528\u4e8e\u7b80\u5316\u548c\u66ff\u6362 JSP \u9875\u9762\u4e0a\u7684 Java \u4ee3\u7801\u3002"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5bfc\u5165 jar"),(0,r.kt)("li",{parentName:"ol"},"\u5728\u9875\u9762\u4e2d\u5f15\u5165\u6807\u7b7e\u5e93\uff1ataglib \u6307\u4ee4"),(0,r.kt)("li",{parentName:"ol"},"\u4f7f\u7528\u6807\u7b7e")),(0,r.kt)("p",null,"\u5e38\u7528\u6807\u7b7e"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"if",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"test\uff1a\u63a5\u6536\u5e03\u5c14\u8868\u8fbe\u5f0f\uff0c\u5982\u679c\u8868\u8fbe\u5f0f\u4e3a true \u5219\u663e\u793a\u6807\u7b7e\u4f53\u5185\u5bb9"))),(0,r.kt)("li",{parentName:"ol"},"choose-when-otherwise"),(0,r.kt)("li",{parentName:"ol"},"foreach",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"begin"),(0,r.kt)("li",{parentName:"ol"},"end"),(0,r.kt)("li",{parentName:"ol"},"var"),(0,r.kt)("li",{parentName:"ol"},"step"),(0,r.kt)("li",{parentName:"ol"},"varStatus\uff1a\u5faa\u73af\u72b6\u6001",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},".index\uff1avar \u5b9a\u4e49\u53d8\u91cf\u7684\u503c"),(0,r.kt)("li",{parentName:"ol"},".count\uff1a\u5faa\u73af\u6b21\u6570"))),(0,r.kt)("li",{parentName:"ol"},"items")))),(0,r.kt)("h2",{id:"filter"},"Filter"),(0,r.kt)("h3",{id:"filter-\u5feb\u901f\u5165\u95e8"},"Filter \u5feb\u901f\u5165\u95e8"),(0,r.kt)("p",null,"\u65b0\u7c7b\u5b9e\u73b0\u63a5\u53e3",(0,r.kt)("inlineCode",{parentName:"p"},"Filter"),"\uff0c\u91cd\u5199\u65b9\u6cd5\u3002"),(0,r.kt)("h3",{id:"webxml-\u914d\u7f6e-filter"},"web.xml \u914d\u7f6e Filter"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Filter \u914d\u7f6e\u8981\u5199\u5728 Servlet \u914d\u7f6e\u4e4b\u524d\uff1b"),(0,r.kt)("li",{parentName:"ol"},"Filter \u7684\u987a\u5e8f\u6309\u7167\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u4e66\u5199\u7684\u987a\u5e8f\u6267\u884c\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-xml"},"<web-app>\n    <filter>\n        <filter-name>XmlFilter</filter-name>\n        <filter-class>o.e.filter.XmlFilter</filter-class>\n    </filter>\n    <filter-mapping>\n        <filter-name>XmlFilter</filter-name>\n        <url-pattern>*</url-pattern>\n    </filter-mapping>\n\n    <servlet>\n        <servlet-name>EchoServlet</servlet-name>\n        <servlet-class>o.e.servlet.EchoServlet</servlet-class>\n        <load-on-startup>1</load-on-startup>\n    </servlet>\n    <servlet-mapping>\n        <servlet-name>EchoServlet</servlet-name>\n        <url-pattern>/echo</url-pattern>\n    </servlet-mapping>\n</web-app>\n")),(0,r.kt)("h3",{id:"\u6ce8\u89e3\u914d\u7f6e-filter"},"\u6ce8\u89e3\u914d\u7f6e Filter"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Filter \u7684\u987a\u5e8f\u6309\u7167\u5168\u7c7b\u540d\u6392\u5e8f\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-java"},'@Slf4j\n@WebFilter("*")\npublic class HelloFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n        log.debug("HelloFilter \u521d\u59cb\u5316");\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        log.debug("HelloFilter \u524d");\n        chain.doFilter(request, response);\n        log.debug("HelloFilter \u540e");\n    }\n\n    @Override\n    public void destroy() {\n        log.debug("HelloFilter \u9500\u6bc1");\n    }\n\n}\n')),(0,r.kt)("h3",{id:"filter-\u751f\u547d\u5468\u671f"},"Filter \u751f\u547d\u5468\u671f"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u521b\u5efa Filter\uff0c\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"init")," \u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ol"},"\u6bcf\u6b21\u62e6\u622a\u65f6\u6267\u884c ",(0,r.kt)("inlineCode",{parentName:"li"},"doFilter")," \u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ol"},"\u670d\u52a1\u5668\u6b63\u5e38\u5173\u95ed\u65f6\u4f1a\u8c03\u7528 ",(0,r.kt)("inlineCode",{parentName:"li"},"destroy")," \u65b9\u6cd5")),(0,r.kt)("h3",{id:"\u62e6\u622a\u8def\u5f84"},"\u62e6\u622a\u8def\u5f84"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"url-pattern"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u7cbe\u786e\u5339\u914d",(0,r.kt)("inlineCode",{parentName:"li"},"index.html")),(0,r.kt)("li",{parentName:"ul"},"\u8def\u5f84\u5339\u914d",(0,r.kt)("inlineCode",{parentName:"li"},"/hello/*")),(0,r.kt)("li",{parentName:"ul"},"\u540e\u7f00\u5339\u914d",(0,r.kt)("inlineCode",{parentName:"li"},"*.jsp")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"servlet-name"),"\u8bbf\u95ee\u6307\u5b9a\u7684 Servlet \u65f6\u4f1a\u901a\u8fc7\u8fc7\u6ee4\u5668")),(0,r.kt)("h3",{id:"\u62e6\u622a\u65b9\u5f0f"},"\u62e6\u622a\u65b9\u5f0f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"dispatcherTypes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"REQUEST\uff1a\u6d4f\u89c8\u5668\u76f4\u63a5\u8bf7\u6c42\u8d44\u6e90\u4f1a\u88ab\u62e6\u622a\uff0c\u9ed8\u8ba4\u503c"),(0,r.kt)("li",{parentName:"ul"},"FORWARD\uff1a\u5185\u90e8\u8f6c\u53d1\u7684\u4f1a\u88ab\u62e6\u622a"),(0,r.kt)("li",{parentName:"ul"},"INCLUDE\uff1a\u5305\u542b\u8bbf\u95ee"),(0,r.kt)("li",{parentName:"ul"},"ERROR\uff1a\u9519\u8bef\u8df3\u8f6c"),(0,r.kt)("li",{parentName:"ul"},"ASYNC\uff1a\u5f02\u6b65\u8bbf\u95ee")))),(0,r.kt)("h3",{id:"\u8fc7\u6ee4\u5668\u94fe"},"\u8fc7\u6ee4\u5668\u94fe"),(0,r.kt)("p",null,"\u9ed8\u8ba4\u8fc7\u6ee4\u5668\u5168\u7c7b\u540d\u5b57\u7b26\u6392\u5e8f\u5c0f\u7684\u8fc7\u6ee4\u5668\u5148\u6267\u884c\u3002"),(0,r.kt)("p",null,"\u5728 web.xml \u4e2d\u5199\u5728\u524d\u9762\u7684\u5148\u6267\u884c\u3002"),(0,r.kt)("h2",{id:"listener"},"Listener"),(0,r.kt)("h3",{id:"\u76d1\u542c\u5668\u5217\u8868"},"\u76d1\u542c\u5668\u5217\u8868"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletContextListener"),"\uff0c\u76d1\u542c ServletContext \u5bf9\u8c61\u7684\u521b\u5efa\u4e0e\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionListener"),"\uff0c\u76d1\u542c HttpSession \u5bf9\u8c61\u7684\u521b\u5efa\u4e0e\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletRequestListener"),"\uff0c\u76d1\u542c ServletRequest \u5bf9\u8c61\u7684\u521b\u5efa\u4e0e\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletContextAttributeListener"),"\uff0c\u76d1\u542c ServletContext \u4e2d\u5c5e\u6027\u7684\u521b\u5efa\u3001\u4fee\u6539\u548c\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionAttributeListener"),"\uff0c\u76d1\u542c HttpSession \u4e2d\u5c5e\u6027\u7684\u521b\u5efa\u3001\u4fee\u6539\u548c\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ServletRequestAttributeListener"),"\uff0c\u76d1\u542c ServletRequest \u4e2d\u5c5e\u6027\u7684\u521b\u5efa\u3001\u4fee\u6539\u548c\u9500\u6bc1\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionBindingListener"),"\uff0c\u76d1\u542c\u67d0\u4e2a\u5bf9\u8c61\u5728 Session \u57df\u4e2d\u7684\u521b\u5efa\u4e0e\u79fb\u9664\uff1b"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"HttpSessionActivationListener"),"\uff0c\u76d1\u542c\u67d0\u4e2a\u5bf9\u8c61\u5728 Session \u4e2d\u7684\u5e8f\u5217\u5316\u4e0e\u53cd\u5e8f\u5217\u5316\u3002")),(0,r.kt)("h3",{id:"\u4f7f\u7528\u76d1\u542c\u5668"},"\u4f7f\u7528\u76d1\u542c\u5668"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u65b0\u7c7b\uff0c\u5b9e\u73b0\u76d1\u542c\u5668",(0,r.kt)("inlineCode",{parentName:"li"},"XXXListener"),"\u63a5\u53e3"),(0,r.kt)("li",{parentName:"ol"},"\u91cd\u5199\u65b9\u6cd5"),(0,r.kt)("li",{parentName:"ol"},"\u6ce8\u518c")),(0,r.kt)("h2",{id:"servlet-30"},"Servlet 3.0"),(0,r.kt)("h3",{id:"\u6ce8\u89e3\u914d\u7f6e"},"\u6ce8\u89e3\u914d\u7f6e"),(0,r.kt)("p",null,"Servlet 3.0 \u4e4b\u540e\u63d0\u4f9b\u4e86 Servlet \u6ce8\u89e3\u652f\u6301\uff0c\u53ef\u4ee5\u4e0d\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"web.xml"),"\u5c31\u80fd\u5b8c\u6210 Web \u5f00\u53d1\uff0c\u8981\u6c42 Tomcat >= 7\uff0c\u5c5e\u4e8e JSR-315 \u89c4\u8303\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"@WebServlet"),"\uff0c\u6ce8\u518c Servlet\u3002"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"@WebFilter")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"@WebListener")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"@WebInitParam"),"\uff0c\u5f53\u9700\u8981\u521d\u59cb\u5316\u53c2\u6570\u7684\u65f6\u5019\u53ef\u4ee5\u914d\u5408\u6b64\u6ce8\u89e3\u4f7f\u7528")),(0,r.kt)("h3",{id:"servletcontentinitializer"},"ServletContentInitializer"),(0,r.kt)("p",null,"\u5728\u7c7b\u8def\u5f84\u4e0b\u7684\u300cMETA-INF/services/\u300d\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u300cjavax.servlet.ServletContainerInitializer\u300d\u7684\u6587\u672c\u6587\u4ef6\uff0c\u5176\u4e2d\u4e3a\u4e00\u4e2a\u5168\u9650\u5b9a\u7c7b\u540d\uff0c\u8be5\u7c7b\u4e3a",(0,r.kt)("inlineCode",{parentName:"p"},"ServletContentInitializer"),"\u7684\u5b9e\u73b0\u7c7b\u3002\u5728Servlet\u5bb9\u5668\u542f\u52a8\u7684\u65f6\u5019\u4f1a\u8c03\u7528\u7c7b\u4e2d\u7684\u56de\u8c03\u65b9\u6cd5\u5b8c\u6210\u521d\u59cb\u5316\uff0c\u53ef\u4ee5\u6ce8\u518cServlet\u3001Listener\u548cFilter\uff0c\u66ff\u4ee3",(0,r.kt)("inlineCode",{parentName:"p"},"web.xml"),"\u3002"),(0,r.kt)("h3",{id:"\u5f02\u6b65\u8bf7\u6c42"},"\u5f02\u6b65\u8bf7\u6c42"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image-20201225210641409",src:a(22851).Z,width:"1200",height:"674"})),(0,r.kt)("div",{className:"footnotes"},(0,r.kt)("hr",{parentName:"div"}),(0,r.kt)("ol",{parentName:"div"},(0,r.kt)("li",{parentName:"ol",id:"fn-1"},(0,r.kt)("a",{parentName:"li",href:"https://tomcat.apache.org/whichversion.html"},"Apache Tomcat\xae - Which Version Do I Want?"),(0,r.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,r.kt)("li",{parentName:"ol",id:"fn-2"},(0,r.kt)("a",{parentName:"li",href:"https://en.wikipedia.org/wiki/Jakarta_Servlet#History"},"Jakarta Servlet - Wikipedia"),(0,r.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}u.isMDXComponent=!0},48625:function(e,t,a){t.Z=a.p+"assets/images/image-20200711005516015-f55ace9b3aaa3e7a49c3697bf57b8c62.png"},22851:function(e,t,a){t.Z=a.p+"assets/images/image-20201225210641409-d830e84147bb1d9254e39d5c2dc51229.png"}}]);