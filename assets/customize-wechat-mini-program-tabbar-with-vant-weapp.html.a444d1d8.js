import{r as n,o as a,c as s,a as t,b as e,F as o,e as c}from"./app.59dc7a15.js";const p={},l=t("h1",{id:"使用-vant-weapp-自定义微信小程序-tabbar",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#使用-vant-weapp-自定义微信小程序-tabbar","aria-hidden":"true"},"#"),c(" 使用 Vant Weapp 自定义微信小程序 TabBar")],-1),u=t("h2",{id:"前言",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#前言","aria-hidden":"true"},"#"),c(" 前言")],-1),r=t("p",null,"微信小程序原生的 TabBar 虽然设置简单，但是样式不好看，也不能使用字体图标，但是微信小程序有自定义 TabBar 的机制。",-1),i=t("p",null,[c("Vant WeApp"),t("sup",{class:"footnote-ref"},[t("a",{href:"#footnote1"},"[1]"),t("a",{class:"footnote-anchor",id:"footnote-ref1"})]),c(" 是有赞出品的针对微信小程序的一套开源组件库，结合 van-tabbar"),t("sup",{class:"footnote-ref"},[t("a",{href:"#footnote2"},"[2]"),t("a",{class:"footnote-anchor",id:"footnote-ref2"})]),c(" 和微信的自定义 TabBar 机制 "),t("sup",{class:"footnote-ref"},[t("a",{href:"#footnote3"},"[3]"),t("a",{class:"footnote-anchor",id:"footnote-ref3"})]),c(" 可以实现一套比较好看的 TabBar。")],-1),b=t("h2",{id:"新建-custom-tab-bar-组件",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#新建-custom-tab-bar-组件","aria-hidden":"true"},"#"),c(" 新建 custom-tab-bar 组件")],-1),k=t("p",null,[c("如图所示，在微信小程序工程文件夹根目录下新建一个名为 "),t("code",null,"custom-tab-bar"),c(" 的组件。")],-1),m=t("p",null,[t("img",{src:"/assets/image-5.6a3b883b.png",alt:"img"})],-1),d=t("p",null,"其中各个文件中的代码如下：",-1),f=t("div",{class:"language-json ext-json line-numbers-mode"},[t("pre",{class:"language-json"},[t("code",null,[t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token property"},'"component"'),t("span",{class:"token operator"},":"),c(),t("span",{class:"token boolean"},"true"),t("span",{class:"token punctuation"},","),c("\n  "),t("span",{class:"token property"},'"usingComponents"'),t("span",{class:"token operator"},":"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token property"},'"van-tabbar"'),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"@vant/weapp/tabbar/index"'),t("span",{class:"token punctuation"},","),c("\n    "),t("span",{class:"token property"},'"van-tabbar-item"'),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"@vant/weapp/tabbar-item/index"'),c("\n  "),t("span",{class:"token punctuation"},"}"),c("\n"),t("span",{class:"token punctuation"},"}"),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br")])],-1),g=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token comment"},"// custom-tab-bar/index.js"),c("\n"),t("span",{class:"token function"},"Component"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token doc-comment comment"},"/**\n   * 组件的属性列表\n   */"),c("\n  properties"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token punctuation"},"{"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n\n  "),t("span",{class:"token doc-comment comment"},"/**\n   * 组件的初始数据\n   */"),c("\n  data"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token punctuation"},"{"),c("\n    active"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token operator"},"-"),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),c("\n    list"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"{"),c("\n        icon"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"search"'),t("span",{class:"token punctuation"},","),c("\n        text"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"搜索"'),t("span",{class:"token punctuation"},","),c("\n        url"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"/pages/index/index"'),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"{"),c("\n        icon"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"question-o"'),t("span",{class:"token punctuation"},","),c("\n        text"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"答题"'),t("span",{class:"token punctuation"},","),c("\n        url"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"/pages/question/index"'),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"{"),c("\n        icon"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"ellipsis"'),t("span",{class:"token punctuation"},","),c("\n        text"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"关于"'),t("span",{class:"token punctuation"},","),c("\n        url"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token string"},'"/pages/user/index"'),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n    "),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},","),c("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n\n  "),t("span",{class:"token doc-comment comment"},"/**\n   * 组件的方法列表\n   */"),c("\n  methods"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token punctuation"},"{"),c("\n    "),t("span",{class:"token function"},"onChange"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"event"),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n      wx"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"switchTab"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n        url"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),c("data"),t("span",{class:"token punctuation"},"."),c("list"),t("span",{class:"token punctuation"},"["),c("event"),t("span",{class:"token punctuation"},"."),c("detail"),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},"."),c("url"),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n\n    "),t("span",{class:"token function"},"init"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n      "),t("span",{class:"token keyword"},"const"),c(),t("span",{class:"token punctuation"},"{"),c("\n        route\n      "),t("span",{class:"token punctuation"},"}"),c(),t("span",{class:"token operator"},"="),c(),t("span",{class:"token function"},"getCurrentPages"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"pop"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n      "),t("span",{class:"token keyword"},"const"),c(" active "),t("span",{class:"token operator"},"="),c(),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),c("data"),t("span",{class:"token punctuation"},"."),c("list"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findIndex"),t("span",{class:"token punctuation"},"("),c("\n        "),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"item"),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token operator"},"=>"),c(" item"),t("span",{class:"token punctuation"},"."),c("url "),t("span",{class:"token operator"},"==="),c(),t("span",{class:"token template-string"},[t("span",{class:"token template-punctuation string"},"`"),t("span",{class:"token string"},"/"),t("span",{class:"token interpolation"},[t("span",{class:"token interpolation-punctuation punctuation"},"${"),c("route"),t("span",{class:"token interpolation-punctuation punctuation"},"}")]),t("span",{class:"token template-punctuation string"},"`")]),c("\n      "),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n      console"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"log"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},'"active:"'),t("span",{class:"token punctuation"},","),c(" active"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n      "),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setData"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"{"),c("\n        active"),t("span",{class:"token punctuation"},","),c("\n      "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n    "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n  "),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br"),t("span",{class:"line-number"},"7"),t("br"),t("span",{class:"line-number"},"8"),t("br"),t("span",{class:"line-number"},"9"),t("br"),t("span",{class:"line-number"},"10"),t("br"),t("span",{class:"line-number"},"11"),t("br"),t("span",{class:"line-number"},"12"),t("br"),t("span",{class:"line-number"},"13"),t("br"),t("span",{class:"line-number"},"14"),t("br"),t("span",{class:"line-number"},"15"),t("br"),t("span",{class:"line-number"},"16"),t("br"),t("span",{class:"line-number"},"17"),t("br"),t("span",{class:"line-number"},"18"),t("br"),t("span",{class:"line-number"},"19"),t("br"),t("span",{class:"line-number"},"20"),t("br"),t("span",{class:"line-number"},"21"),t("br"),t("span",{class:"line-number"},"22"),t("br"),t("span",{class:"line-number"},"23"),t("br"),t("span",{class:"line-number"},"24"),t("br"),t("span",{class:"line-number"},"25"),t("br"),t("span",{class:"line-number"},"26"),t("br"),t("span",{class:"line-number"},"27"),t("br"),t("span",{class:"line-number"},"28"),t("br"),t("span",{class:"line-number"},"29"),t("br"),t("span",{class:"line-number"},"30"),t("br"),t("span",{class:"line-number"},"31"),t("br"),t("span",{class:"line-number"},"32"),t("br"),t("span",{class:"line-number"},"33"),t("br"),t("span",{class:"line-number"},"34"),t("br"),t("span",{class:"line-number"},"35"),t("br"),t("span",{class:"line-number"},"36"),t("br"),t("span",{class:"line-number"},"37"),t("br"),t("span",{class:"line-number"},"38"),t("br"),t("span",{class:"line-number"},"39"),t("br"),t("span",{class:"line-number"},"40"),t("br"),t("span",{class:"line-number"},"41"),t("br"),t("span",{class:"line-number"},"42"),t("br"),t("span",{class:"line-number"},"43"),t("br"),t("span",{class:"line-number"},"44"),t("br"),t("span",{class:"line-number"},"45"),t("br"),t("span",{class:"line-number"},"46"),t("br"),t("span",{class:"line-number"},"47"),t("br"),t("span",{class:"line-number"},"48"),t("br"),t("span",{class:"line-number"},"49"),t("br"),t("span",{class:"line-number"},"50"),t("br"),t("span",{class:"line-number"},"51"),t("br"),t("span",{class:"line-number"},"52"),t("br"),t("span",{class:"line-number"},"53"),t("br"),t("span",{class:"line-number"},"54"),t("br")])],-1),h=t("div",{class:"language-xml ext-xml line-numbers-mode"},[t("pre",{class:"language-xml"},[t("code",null,[t("span",{class:"token comment"},"\x3c!-- custom-tab-bar/index.wxml --\x3e"),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("van-tabbar")]),c(),t("span",{class:"token attr-name"},"active"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("{{ active }}"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"bind:"),c("change")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("onChange"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),c("van-tabbar-item")]),c(),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"wx:"),c("for")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("{{list}}"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"wx:"),c("key")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("index"),t("span",{class:"token punctuation"},'"')]),c(),t("span",{class:"token attr-name"},"icon"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),c("{{item.icon}}"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),c("\n        {{item.text}}\n    "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("van-tabbar-item")]),t("span",{class:"token punctuation"},">")]),c("\n"),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),c("van-tabbar")]),t("span",{class:"token punctuation"},">")]),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),v=t("h2",{id:"启用自定义-tabbar-设置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#启用自定义-tabbar-设置","aria-hidden":"true"},"#"),c(" 启用自定义 TabBar 设置")],-1),x=t("p",null,[c("修改 "),t("code",null,"app.js"),c(" 中 "),t("code",null,"tabBar"),c(" 设置，设置 "),t("code",null,"custom"),c(" 为 "),t("code",null,"true"),c(" 。其中 "),t("code",null,"list"),c(" 中的对象只需保留 "),t("code",null,"path"),c(" 属性。")],-1),w=t("p",null,[t("img",{src:"/assets/image-6-668x1024.acb65ab2.png",alt:"img"})],-1),T=t("h2",{id:"在每个-tab-页中配置",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#在每个-tab-页中配置","aria-hidden":"true"},"#"),c(" 在每个 Tab 页中配置")],-1),y=t("p",null,[c("在开启了自定义 TabBar 设置后，可以在每个页面中通过 "),t("code",null,"getTabBar()"),c(" 获取 TabBar 组件实例。")],-1),B=t("p",null,"现在需要在每个 Tab 页中设置当前 Tab 页图标高亮。",-1),j=t("p",null,[c("可以在每个 Tab 页的 "),t("code",null,"onShow()"),c(" 生命周期方法中调用 TabBar 的 "),t("code",null,"init()"),c(" 方法，修改当前激活页，来高亮当前 Tab 页的图标。")],-1),q=t("div",{class:"language-javascript ext-js line-numbers-mode"},[t("pre",{class:"language-javascript"},[t("code",null,[t("span",{class:"token doc-comment comment"},"/**\n* 生命周期函数--监听页面显示\n*/"),c("\n"),t("span",{class:"token function-variable function"},"onShow"),t("span",{class:"token operator"},":"),c(),t("span",{class:"token keyword"},"function"),c(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),c(),t("span",{class:"token punctuation"},"{"),c("\n  "),t("span",{class:"token keyword"},"this"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getTabBar"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"init"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),c("\n"),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),c("\n")])]),t("div",{class:"line-numbers"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br"),t("span",{class:"line-number"},"4"),t("br"),t("span",{class:"line-number"},"5"),t("br"),t("span",{class:"line-number"},"6"),t("br")])],-1),C=t("hr",{class:"footnotes-sep"},null,-1),V={class:"footnotes"},W={class:"footnotes-list"},_={id:"footnote1",class:"footnote-item"},S={href:"https://vant-contrib.gitee.io/vant/#/zh-CN/",target:"_blank",rel:"noopener noreferrer"},z=c("Vant - 轻量、可靠的移动端组件库 (gitee.io)"),A=c(),D=t("a",{href:"#footnote-ref1",class:"footnote-backref"},"↩︎",-1),F={id:"footnote2",class:"footnote-item"},I={href:"https://vant-contrib.gitee.io/vant-weapp/#/tabbar",target:"_blank",rel:"noopener noreferrer"},L=c("Tabbar 标签栏 - Vant Weapp"),N=c(),O=t("a",{href:"#footnote-ref2",class:"footnote-backref"},"↩︎",-1),P={id:"footnote3",class:"footnote-item"},$={href:"https://developers.weixin.qq.com/miniprogram/dev/framework/ability/custom-tabbar.html",target:"_blank",rel:"noopener noreferrer"},E=c("自定义 tabBar | 微信开放文档"),G=c(),H=t("a",{href:"#footnote-ref3",class:"footnote-backref"},"↩︎",-1);p.render=function(c,p){const J=n("OutboundLink");return a(),s(o,null,[l,u,r,i,b,k,m,d,f,g,h,v,x,w,T,y,B,j,q,C,t("section",V,[t("ol",W,[t("li",_,[t("p",null,[t("a",S,[z,e(J)]),A,D])]),t("li",F,[t("p",null,[t("a",I,[L,e(J)]),N,O])]),t("li",P,[t("p",null,[t("a",$,[E,e(J)]),G,H])])])])],64)};export{p as default};
