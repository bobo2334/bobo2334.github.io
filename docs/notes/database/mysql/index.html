<!doctype html>
<html class="docs-version-current" lang="zh-cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="我的学习笔记 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="我的学习笔记 Atom Feed">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous">
<link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180">
<link rel="icon" href="/favicon-32x32.png" sizes="32x32" type="image/png">
<link rel="icon" href="/favicon-16x16.png" sizes="16x16" type="image/png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><title data-react-helmet="true">MySQL | 我的学习笔记</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://iuok.me/docs/notes/database/mysql"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-cn"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" name="msapplication-TileColor" contnet="#da532c"><meta data-react-helmet="true" name="theme-color" contnet="#25c2a0"><meta data-react-helmet="true" property="og:title" content="MySQL | 我的学习笔记"><meta data-react-helmet="true" name="description" content="参考资料"><meta data-react-helmet="true" property="og:description" content="参考资料"><link data-react-helmet="true" rel="icon" href="/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://iuok.me/docs/notes/database/mysql"><link data-react-helmet="true" rel="alternate" href="https://iuok.me/docs/notes/database/mysql" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://iuok.me/docs/notes/database/mysql" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a4b7a038.css">
<link rel="preload" href="/assets/js/runtime~main.0ceff8a2.js" as="script">
<link rel="preload" href="/assets/js/main.982f502c.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/android-chrome-512x512.png" alt="Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/android-chrome-512x512.png" alt="Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">我的学习笔记</b></a><a class="navbar__item navbar__link" href="/docs/bookmarks/interesting-projects">笔记</a><a class="navbar__item navbar__link" href="/blog/">文章</a><a class="navbar__item navbar__link" href="/blog/archive">文章归档</a><a class="navbar__item navbar__link" href="/blog/tags">文章标签</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/bobo2334/bobo2334.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/bookmarks/interesting-projects">书签</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/docs/drafts/backing-up-tools">草稿</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/notes/c/">学习笔记</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/notes/c/">c</a><button aria-label="Toggle the collapsible sidebar category &#x27;c&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/notes/database/mysql">database</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/notes/database/mysql">MySQL</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/notes/database/redis">Redis</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_VCh3" tabindex="0" href="/docs/notes/java/">java</a><button aria-label="Toggle the collapsible sidebar category &#x27;java&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/notes/javascript/typescript">javascript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/notes/message-queuing/rocketmq">message-queuing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/notes/utility/editorconfig">utility</a></div></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>MySQL</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="参考资料">参考资料<a class="hash-link" href="#参考资料" title="Direct link to heading">​</a></h2><ul><li><a href="https://www.bilibili.com/video/BV1iq4y1u7vj" target="_blank" rel="noopener noreferrer">【宋红康】MySQL数据库（mysql安装/基础/高级/优化）_哔哩哔哩_bilibili</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="数据库的作用">数据库的作用<a class="hash-link" href="#数据库的作用" title="Direct link to heading">​</a></h2><ol><li>实现数据持久化</li><li>使用完整的管理系统统一管理</li></ol><h2 class="anchor anchorWithStickyNavbar_mojV" id="名词解释">名词解释<a class="hash-link" href="#名词解释" title="Direct link to heading">​</a></h2><ul><li>DB（Database），数据库，它保存了一系列有组织的数据</li><li>DBMS（Database Management System），数据库管理系统，简称数据库软件，可以对数据库进行操作</li><li>DBA（Database Administrator），数据库管理员</li><li>SQL（Structure Query Language），结构化查询语言</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="关系型数据库">关系型数据库<a class="hash-link" href="#关系型数据库" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="概念">概念<a class="hash-link" href="#概念" title="Direct link to heading">​</a></h3><ul><li><p>关系型数据库的典型数据结构就是<code>数据表</code>，这些数据表的组成都是结构化的（Structured）。</p></li><li><p>将数据放到表中，表再放到库中。</p></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="关系">关系<a class="hash-link" href="#关系" title="Direct link to heading">​</a></h3><ul><li>一对一</li><li>一对多</li><li>多对多</li><li>自我引用</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="命令行">命令行<a class="hash-link" href="#命令行" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mysql -h localhost -P </span><span class="token number" style="color:#36acaa">3306</span><span class="token plain"> -u root -proot</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li><code>-P</code>指定端口</li><li><code>-p</code>指定密码，密码可以不写在命令中，只指定参数而不写密码的话会在交互式命令行中输入密码，不会在密码历史或屏幕中暴露密码</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="默认数据库">默认数据库<a class="hash-link" href="#默认数据库" title="Direct link to heading">​</a></h2><p>// TODO Mysql 默认带的几个数据库的作用</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="sql">SQL<a class="hash-link" href="#sql" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="sql-概念">SQL 概念<a class="hash-link" href="#sql-概念" title="Direct link to heading">​</a></h3><p>结构化查询语言（Structured Query Language），是一种规范，用来操作关系型数据库。但是每种数据库在实现上有略微不同，称为「方言」；</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="分类">分类<a class="hash-link" href="#分类" title="Direct link to heading">​</a></h3><ol><li>DDL（Data Definition Language）数据定义语言：用于操作数据库对象，如数据库、表、字段等。关键字：<code>create</code>、<code>drop</code>、<code>alter</code>、<code>rename</code>、<code>truncate</code> ；</li><li>DML（Data Manipulation Language）数据操作语言：用于操作数据本身。关键字 <code>insert</code>、<code>delete</code>、<code>update</code>、<code>select</code> ；</li><li>DCL（Data Control Language）数据控制语言：用户操作数据库 的访问权限和安全级别，以及管理用户，关键字 <code>grant</code>、<code>revoke</code>、<code>commit</code>、<code>rollback</code>、<code>savepoint</code>。</li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="规则">规则<a class="hash-link" href="#规则" title="Direct link to heading">​</a></h3><ul><li><p>SQL 可以写在一行或者多行。为了提高可读性，各子句分行写，必要时使用缩进</p></li><li><p>每条命令以<code>;</code>或 <code>\g</code>或<code>\G</code>结束</p><ul><li><code>\g</code>和<code>\G</code>只能在命令行中使用</li><li><code>\g</code>和<code>;</code>的效果一样</li><li><code>\G</code>会将结果表转置，行列转换</li></ul></li><li><p>关键字不能被缩写也不能分行</p></li><li><p>关于标点符号</p><ul><li>必须保证所有的<code>()</code>、<code>单引号</code>、<code>双引号</code>是成对结束的</li><li>必须使用<strong>英文</strong>状态下的<strong>半角</strong>输入方式</li><li>字符串型和日期时间类型的数据可以使用单引号表示</li><li>列的别名，尽量使用双引号，而且不建议省略<code>as</code></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="规范">规范<a class="hash-link" href="#规范" title="Direct link to heading">​</a></h3><p>这是建议遵守的，不强制。</p><ul><li>MySQL 在 Windows 环境下是大小写不敏感的</li><li>MySQL 在 Linux 环境下是大小写敏感的<ul><li>数据库名、表名、表的别名、变量名是严格区分大小写的</li><li>关键字、函数名、列名(或字段名)、列的别名(字段的别名) 是忽略大小写的。</li></ul></li><li>推荐采用统一的书写规范<ul><li>数据库名、表名、表别名、字段名、字段别名等都小写</li><li>SQL 关键字、函数名、绑定变量等都大写</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="注释">注释<a class="hash-link" href="#注释" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 单行注释</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 单行注释</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">  多行注释</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"> */</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ddl">DDL<a class="hash-link" href="#ddl" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="show">SHOW<a class="hash-link" href="#show" title="Direct link to heading">​</a></h4><p>查询所有数据库。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">databases</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>查询数据库创建语法，以及数据库字符集。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> mysql</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>查询所有表。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">tables</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">tables</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> test</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>查询当前选择的数据库。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>查询变量。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">show</span><span class="token plain"> variables </span><span class="token operator" style="color:#393A34">like</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;%char%&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="create">CREATE<a class="hash-link" href="#create" title="Direct link to heading">​</a></h4><p>创建数据库。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> db1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>只在不存在的情况下创建。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> db2</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>指定使用其他字符集。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> db3 </span><span class="token keyword" style="color:#00009f">character</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> gbk</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>综合到一起。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">database</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">exists</span><span class="token plain"> db4 </span><span class="token keyword" style="color:#00009f">character</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">set</span><span class="token plain"> gbk</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>创建表。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> table_name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    id </span><span class="token keyword" style="color:#00009f">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name </span><span class="token keyword" style="color:#00009f">varchar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>复制表结构。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">create</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">table</span><span class="token plain"> stu </span><span class="token operator" style="color:#393A34">like</span><span class="token plain"> student</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="dql">DQL<a class="hash-link" href="#dql" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithStickyNavbar_mojV" id="select">SELECT<a class="hash-link" href="#select" title="Direct link to heading">​</a></h4><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">distinct</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> 字段列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> 表名列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> 条件列表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> 分组条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">having</span><span class="token plain"> 分组之后的条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> 排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">limit</span><span class="token plain"> 分页条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">escape</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;转移字符&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="关键词">关键词<a class="hash-link" href="#关键词" title="Direct link to heading">​</a></h4><p>用在字段列表之前：</p><ul><li><code>distinct</code>：去除重复</li></ul><p>用在字段列表：</p><ul><li><code>as</code>：起别名</li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="运算符">运算符<a class="hash-link" href="#运算符" title="Direct link to heading">​</a></h4><ul><li><code>&gt;</code>、<code>&lt;</code>、<code>&gt;=</code>、<code>&lt;=</code>、<code>=</code>、<code>&lt;&gt;</code></li><li><code>&lt;=&gt;</code>，安全等于，可以用来判断<code>null</code></li><li><code>between</code> ... <code>and</code> ...</li><li><code>in()</code></li><li><code>like</code><ul><li><code>_</code>：单个字符</li><li><code>%</code>：多个字符</li></ul></li><li><code>is null</code></li><li><code>is not null</code></li><li><code>and</code>、<code>&amp;&amp;</code></li><li><code>or</code>、<code>||</code></li><li><code>not</code>、<code>!</code></li></ul><h4 class="anchor anchorWithStickyNavbar_mojV" id="排序">排序<a class="hash-link" href="#排序" title="Direct link to heading">​</a></h4><p>如果不指定排序方式的话，默认是 <code>asc</code>，升序排序。字段名可以是别名。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> student </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> id </span><span class="token keyword" style="color:#00009f">desc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name </span><span class="token keyword" style="color:#00009f">asc</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="单行函数">单行函数<a class="hash-link" href="#单行函数" title="Direct link to heading">​</a></h4><h5 class="anchor anchorWithStickyNavbar_mojV" id="字符函数">字符函数<a class="hash-link" href="#字符函数" title="Direct link to heading">​</a></h5><ul><li><code>length()</code>，字符串长度，中文字符长度和字符集有关</li><li><code>concat()</code>，拼接字符串</li><li><code>upper()</code>，字符串转大写</li><li><code>lower()</code>，字符串转小写</li><li><code>substr(str, pos, len)</code>/<code>substring()</code>，编号从1开始</li><li><code>instr(str, substr)</code>，搜索字符串第一次出现的位置</li><li><code>trim()</code>，去除字符串前后空格</li><li><code>trim(&#x27;a&#x27; FROM &#x27;aaaabaaaaa&#x27;)</code>，去除字符串前后的<code>a</code></li><li><code>lpad(str, len, padstr)</code>，左填充字符串，直到达到长度<code>len</code></li><li><code>rpad()</code>，右填充</li><li><code>replace()</code>，替换子串</li></ul><h5 class="anchor anchorWithStickyNavbar_mojV" id="数学函数">数学函数<a class="hash-link" href="#数学函数" title="Direct link to heading">​</a></h5><ul><li><code>round()</code>，四舍五入</li><li><code>ceil()</code>，数轴向右取整</li><li><code>floor()</code>，数轴向左取整</li><li><code>truncate(x, n)</code>，保留<code>n</code>位小数，后面的全都舍弃</li><li><code>mod()</code>，求余数</li></ul><h5 class="anchor anchorWithStickyNavbar_mojV" id="日期函数">日期函数<a class="hash-link" href="#日期函数" title="Direct link to heading">​</a></h5><ul><li><code>now()</code>，日期和时间</li><li><code>curdate()</code>，日期</li><li><code>curtime()</code>，时间</li><li><code>year(now())</code>，获取年的部分</li><li><code>month()</code>，数字月</li><li><code>monthname()</code>，英语月</li><li><code>day()</code></li><li><code>hour()</code></li><li><code>minute()</code></li><li><code>hour()</code></li><li><code>str_to_date()</code>，字符转日期</li><li><code>date_format()</code>，日期转字符</li></ul><p><img alt="image-20220107163703585" src="/assets/images/image-20220107163703585-dfd07a165b06a83f8c62a5ae4ed37949.png" width="1092" height="800"></p><h5 class="anchor anchorWithStickyNavbar_mojV" id="其它函数">其它函数<a class="hash-link" href="#其它函数" title="Direct link to heading">​</a></h5><ul><li><code>version()</code>，查询 MySQL 版本</li><li><code>database()</code>，当前选择的数据库</li><li><code>user()</code>，当前用户</li></ul><h5 class="anchor anchorWithStickyNavbar_mojV" id="流程控制函数">流程控制函数<a class="hash-link" href="#流程控制函数" title="Direct link to heading">​</a></h5><ul><li><code>if(exp1, exp2, exp3)</code>，相当于三元运算符</li><li><code>CASE </code></li></ul><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    salary </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    department_id </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        department_id </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">when</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"> salary </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">when</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"> salary </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">when</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"> salary </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">end</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> new_salary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    employees</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="聚合函数">聚合函数<a class="hash-link" href="#聚合函数" title="Direct link to heading">​</a></h4><p>将一列数据作为一个整体，进行纵向计算。所有聚合函数都排除了 <code>null</code> 值的计算。</p><ul><li><code>count()</code><ul><li><code>count(*)</code> 只要这一行不全为 <code>null</code>，就能算作一行</li><li><code>count(1)</code>，统计有多少行</li></ul></li><li><code>max()</code></li><li><code>min()</code></li><li><code>sum()</code></li><li><code>avg()</code></li></ul><p>可以和<code>distinct</code>搭配使用。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">DISTINCT</span><span class="token plain"> salary</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employees</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="分组">分组<a class="hash-link" href="#分组" title="Direct link to heading">​</a></h4><p>分组之后只能查询分组字段或聚合函数，因为其他独立字段已经没有意义了。</p><p><code>where</code> 在分组之前条件限定，如果不满足结果不会参与分组。</p><p><code>having</code> 可以在分组之后限定条件，不满足条件不参与查询，可以使用聚合函数，可以使用查询字段的别名。</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="分页">分页<a class="hash-link" href="#分页" title="Direct link to heading">​</a></h4><p><code>limit</code> 是 MySQL 的方言。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">limit</span><span class="token plain"> 开始索引，查多少条</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithStickyNavbar_mojV" id="多表查询">多表查询<a class="hash-link" href="#多表查询" title="Direct link to heading">​</a></h4><p>内连接，左右表不匹配则不显示该行。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 隐式内连接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> emp </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dept </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> t2 </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dep_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 显式内连接，inner 可以省略</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gender</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> emp </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> t1 </span><span class="token keyword" style="color:#00009f">inner</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"> dept </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> t2 </span><span class="token keyword" style="color:#00009f">on</span><span class="token plain"> t1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dept_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> t2</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>外连接，不匹配的行也会显示。</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- 左外连接，左表会全部显示，右表不匹配的字段会显示 null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- outer 可以省略</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">left</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">outer</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">join</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- 右外连接，右表会全部显示，...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">right</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">join</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>子查询，查询中嵌套查询。</p><ol><li><code>where</code> 型子查询：指把内部查询的结果作为外层查询的比较条件；</li><li><code>from</code> 型子查询：把内层的查询结果当成临时表，供外层 SQL 再次查询；</li><li><code>in</code> 子查询：内层查询语句仅返回一个数据列，这个数据列的值将供外层查询语句进行比较；</li><li><code>exists</code> 子查询：内层的返回 true，外层才会执行；</li><li><code>any</code> 子查询：只要满足内层子查询中的任意一个比较条件，就返回一个结果作为外层查询条件；</li><li><code>all</code> 子查询：内层子查询返回的结果需同时满足所有内层查询条件；</li><li>比较运算符子查询：子查询中可以使用比较运算符。</li></ol><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx sql"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- where 型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> cat_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">good_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">good_name </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> goods </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> good_id </span><span class="token operator" style="color:#393A34">in</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">selct </span><span class="token function" style="color:#d73a49">max</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">good_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> goods </span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> cat_id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- from 型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> cat_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">good_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">good_name </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> goods </span><span class="token keyword" style="color:#00009f">order</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> cat_id </span><span class="token keyword" style="color:#00009f">asc</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> good_id </span><span class="token keyword" style="color:#00009f">desc</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> tep </span><span class="token keyword" style="color:#00009f">group</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> cat_id</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">-- all 型</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">select</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> department </span><span class="token keyword" style="color:#00009f">where</span><span class="token plain"> did </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> did </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> employee</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="数据结构">数据结构<a class="hash-link" href="#数据结构" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_mojV" id="事务">事务<a class="hash-link" href="#事务" title="Direct link to heading">​</a></h2><h2 class="anchor anchorWithStickyNavbar_mojV" id="存储引擎">存储引擎<a class="hash-link" href="#存储引擎" title="Direct link to heading">​</a></h2></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/notes/c/cmake"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">CMake</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/notes/database/redis"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Redis</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#参考资料" class="table-of-contents__link toc-highlight">参考资料</a></li><li><a href="#数据库的作用" class="table-of-contents__link toc-highlight">数据库的作用</a></li><li><a href="#名词解释" class="table-of-contents__link toc-highlight">名词解释</a></li><li><a href="#关系型数据库" class="table-of-contents__link toc-highlight">关系型数据库</a><ul><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li><li><a href="#关系" class="table-of-contents__link toc-highlight">关系</a></li></ul></li><li><a href="#命令行" class="table-of-contents__link toc-highlight">命令行</a></li><li><a href="#默认数据库" class="table-of-contents__link toc-highlight">默认数据库</a></li><li><a href="#sql" class="table-of-contents__link toc-highlight">SQL</a><ul><li><a href="#sql-概念" class="table-of-contents__link toc-highlight">SQL 概念</a></li><li><a href="#分类" class="table-of-contents__link toc-highlight">分类</a></li><li><a href="#规则" class="table-of-contents__link toc-highlight">规则</a></li><li><a href="#规范" class="table-of-contents__link toc-highlight">规范</a></li><li><a href="#注释" class="table-of-contents__link toc-highlight">注释</a></li><li><a href="#ddl" class="table-of-contents__link toc-highlight">DDL</a><ul><li><a href="#show" class="table-of-contents__link toc-highlight">SHOW</a></li><li><a href="#create" class="table-of-contents__link toc-highlight">CREATE</a></li></ul></li><li><a href="#dql" class="table-of-contents__link toc-highlight">DQL</a><ul><li><a href="#select" class="table-of-contents__link toc-highlight">SELECT</a></li><li><a href="#关键词" class="table-of-contents__link toc-highlight">关键词</a></li><li><a href="#运算符" class="table-of-contents__link toc-highlight">运算符</a></li><li><a href="#排序" class="table-of-contents__link toc-highlight">排序</a></li><li><a href="#单行函数" class="table-of-contents__link toc-highlight">单行函数</a><ul><li><a href="#字符函数" class="table-of-contents__link toc-highlight">字符函数</a></li><li><a href="#数学函数" class="table-of-contents__link toc-highlight">数学函数</a></li><li><a href="#日期函数" class="table-of-contents__link toc-highlight">日期函数</a></li><li><a href="#其它函数" class="table-of-contents__link toc-highlight">其它函数</a></li><li><a href="#流程控制函数" class="table-of-contents__link toc-highlight">流程控制函数</a></li></ul></li><li><a href="#聚合函数" class="table-of-contents__link toc-highlight">聚合函数</a></li><li><a href="#分组" class="table-of-contents__link toc-highlight">分组</a></li><li><a href="#分页" class="table-of-contents__link toc-highlight">分页</a></li><li><a href="#多表查询" class="table-of-contents__link toc-highlight">多表查询</a></li></ul></li></ul></li><li><a href="#数据结构" class="table-of-contents__link toc-highlight">数据结构</a></li><li><a href="#事务" class="table-of-contents__link toc-highlight">事务</a></li><li><a href="#存储引擎" class="table-of-contents__link toc-highlight">存储引擎</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.0ceff8a2.js"></script>
<script src="/assets/js/main.982f502c.js"></script>
</body>
</html>